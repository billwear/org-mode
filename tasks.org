* tasks
** TODO Jira planning                                             :MAAS_TEAM:
SCHEDULED: <2023-12-04 Mon +1d>
:LOGBOOK:
CLOCK: [2023-11-27 Mon 10:05]--[2023-11-27 Mon 12:00] =>  1:55
CLOCK: [2023-11-27 Mon 13:00]--[2023-11-27 Mon 17:30] =>  4:30
:END:

** TODO mow the grass
SCHEDULED: <2023-12-02 Sat>

`** TODO [#F] enhance technical writing skills                     :ta_cohort:
SCHEDULED: <2023-11-27 Mon>

** TODO [#C] follow up with evilnick: wth did we talk about, again? :ta_cohort:
SCHEDULED: <2023-11-27 Mon>

** TODO [#D] tech writing courses (clarity, conciseness, accuracy) :ta_cohort:
SCHEDULED: <2023-11-27 Mon>

** TODO [#E] the elements of style                                :ta_cohort:
SCHEDULED: <2023-11-27 Mon>
** TODO [#O] Technical Blogs And Website Articles                 :Canonical:
SCHEDULED: <2023-11-27 Mon>

** TODO reporting clocked time last couple days                   :Canonical:
SCHEDULED: <2023-11-29 Wed>
:LOGBOOK:
CLOCK: [2023-11-29 Wed 14:35]--[2023-11-29 Wed 15:20] =>  0:45
:END:

** TODO motl: expert on devices: bios & pxe booting               :ta_cohort:
SCHEDULED: <2023-11-29 Wed +1d>
:LOGBOOK:
CLOCK: [2023-11-30 Thu 16:00]--[2023-11-30 Thu 18:07] =>  2:07
CLOCK: [2023-11-30 Thu 14:45]--[2023-11-30 Thu 16:00] =>  1:15
:END:

** TODO [#A] doc bugs                                             :MAAS_TEAM:
SCHEDULED: <2023-12-01 Fri 10:00 +1d>

** TODO prepare recorded show and tell for thursday, while fresh  :Canonical:
SCHEDULED: <2023-12-01 Fri +1d>
:LOGBOOK:
CLOCK: [2023-12-01 Fri 10:35]--[2023-12-01 Fri 17:10] =>  6:35
:END:

** TODO [#C] Technical Blogs And Website Articles                 :Canonical:
SCHEDULED: <2023-11-28 Tue +1d>
:PROPERTIES:
:ID:       https://warthogs.atlassian.net/browse/MAASENG-2474
:TYPE:     ejira-issue
:Status:   Untriaged
:Reporter: Bill Wear
:Assignee: Bill Wear
:Issuetype: Task
:Created:  2023-11-28 19:51:31
:Modified: 2023-11-28 19:51:31
:END:
*** Description
*** Comments
*** TODO [#C] Ubuntu blog                     :Canonical:                
SCHEDULED: <2023-11-28 Tue +1d>
:PROPERTIES:
:ID:       https://warthogs.atlassian.net/browse/MAASENG-1952
:TYPE:     ejira-issue
:Status:   Triaged
:Reporter: Bill Wear
:Assignee: Bill Wear
:Issuetype: Task
:Created:  2023-07-05 20:27:43
:Modified: 2023-11-28 20:03:06
:END:
***** Description
***** Comments

** TODO General Planning & Time-Tracking Activities               :Canonical:
SCHEDULED: <2023-12-01 Fri +1d>
:PROPERTIES:
:LAST_REPEAT: [2023-11-30 Thu 14:45]
:END:
- State "DONE"       from "TODO"       [2023-11-30 Thu 14:45]
:LOGBOOK:
CLOCK: [2023-11-30 Thu 13:30]--[2023-11-30 Thu 14:45] =>  1:15
:END:


** TODO [#C] Learning Canonical Products                          :Canonical:                     
SCHEDULED: <2023-11-28 Tue +1d>
:PROPERTIES:
:ID:       https://warthogs.atlassian.net/browse/MAASENG-2473
:TYPE:     ejira-issue
:Status:   Untriaged
:Reporter: Bill Wear
:Assignee: Bill Wear
:Issuetype: Task
:Created:  2023-11-28 19:51:16
:Modified: 2023-11-28 19:51:16
:END:
*** Description
*** Comments
SCHEDULED: <2023-11-28 Tue +1d>
*** TODO [#C] Learn Juju               :Canonical:                        
SCHEDULED: <2023-11-28 Tue +1d>
:PROPERTIES:
:ID:       https://warthogs.atlassian.net/browse/MAASENG-2459
:TYPE:     ejira-issue
:Status:   Untriaged
:Reporter: Bill Wear
:Assignee: Bill Wear
:Issuetype: Task
:Created:  2023-11-28 19:47:37
:Modified: 2023-11-28 19:47:38
:END:
**** Description
**** Comments
*** TODO [#C] Learn Lxd/Lxc       :Canonical:                             
SCHEDULED: <2023-11-28 Tue +1d>
:PROPERTIES:
:ID:       https://warthogs.atlassian.net/browse/MAASENG-2461
:TYPE:     ejira-issue
:Status:   Untriaged
:Reporter: Bill Wear
:Assignee: Bill Wear
:Issuetype: Task
:Created:  2023-11-28 19:48:00
:Modified: 2023-11-28 19:48:01
:END:
**** Description
**** Comments
*** TODO [#C] Learn Canonical Openstack  :Canonical:                      
SCHEDULED: <2023-11-28 Tue +1d>
:PROPERTIES:
:ID:       https://warthogs.atlassian.net/browse/MAASENG-2471
:TYPE:     ejira-issue
:Status:   Untriaged
:Reporter: Bill Wear
:Assignee: Bill Wear
:Issuetype: Task
:Created:  2023-11-28 19:50:42
:Modified: 2023-11-28 19:50:42
:END:
**** Description
**** Comments
*** TODO [#C] Learn Snap And Snapcraft  :Canonical:                       
SCHEDULED: <2023-11-28 Tue +1d>
:PROPERTIES:
:ID:       https://warthogs.atlassian.net/browse/MAASENG-2465
:TYPE:     ejira-issue
:Status:   Untriaged
:Reporter: Bill Wear
:Assignee: Bill Wear
:Issuetype: Task
:Created:  2023-11-28 19:49:04
:Modified: 2023-11-28 19:49:04
:END:
**** Description
**** Comments
*** TODO [#C] Learn Anbox Cloud   :Canonical:                             
SCHEDULED: <2023-11-28 Tue +1d>
:PROPERTIES:
:ID:       https://warthogs.atlassian.net/browse/MAASENG-2470
:TYPE:     ejira-issue
:Status:   Untriaged
:Reporter: Bill Wear
:Assignee: Bill Wear
:Issuetype: Task
:Created:  2023-11-28 19:50:22
:Modified: 2023-11-28 19:50:23
:END:
**** Description
**** Comments
*** TODO [#C] Learn Microk8s   :Canonical:                                
SCHEDULED: <2023-11-28 Tue +1d>
:PROPERTIES:
:ID:       https://warthogs.atlassian.net/browse/MAASENG-2467
:TYPE:     ejira-issue
:Status:   Untriaged
:Reporter: Bill Wear
:Assignee: Bill Wear
:Issuetype: Task
:Created:  2023-11-28 19:49:39
:Modified: 2023-11-28 19:49:39
:END:
**** Description
**** Comments
*** TODO [#C] Learn Ubuntu Server  :Canonical:                            
SCHEDULED: <2023-11-28 Tue +1d>
:PROPERTIES:
:ID:       https://warthogs.atlassian.net/browse/MAASENG-2463
:TYPE:     ejira-issue
:Status:   Untriaged
:Reporter: Bill Wear
:Assignee: Bill Wear
:Issuetype: Task
:Created:  2023-11-28 19:48:31
:Modified: 2023-11-28 19:48:32
:END:
**** Description
**** Comments
*** TODO [#C] Learn Ubuntu Core  :Canonical:                              
SCHEDULED: <2023-11-28 Tue +1d>
:PROPERTIES:
:ID:       https://warthogs.atlassian.net/browse/MAASENG-2466
:TYPE:     ejira-issue
:Status:   Untriaged
:Reporter: Bill Wear
:Assignee: Bill Wear
:Issuetype: Task
:Created:  2023-11-28 19:49:24
:Modified: 2023-11-28 19:49:24
:END:
**** Description
**** Comments
*** TODO [#C] Learn Ubuntu Desktop :Canonical:                            
SCHEDULED: <2023-11-28 Tue +1d>
:PROPERTIES:
:ID:       https://warthogs.atlassian.net/browse/MAASENG-2468
:TYPE:     ejira-issue
:Status:   Untriaged
:Reporter: Bill Wear
:Assignee: Bill Wear
:Issuetype: Task
:Created:  2023-11-28 19:49:55
:Modified: 2023-11-28 19:49:56
:END:
**** Description
**** Comments
*** TODO [#C] Learn Landscape     :Canonical:                             
SCHEDULED: <2023-11-28 Tue +1d>
:PROPERTIES:
:ID:       https://warthogs.atlassian.net/browse/MAASENG-2469
:TYPE:     ejira-issue
:Status:   Untriaged
:Reporter: Bill Wear
:Assignee: Bill Wear
:Issuetype: Task
:Created:  2023-11-28 19:50:08
:Modified: 2023-11-28 19:50:09
:END:
**** Description
**** Comments
*** TODO [#C] Learn Ubuntu Pro   :Canonical:                              
:PROPERTIES:
:ID:       https://warthogs.atlassian.net/browse/MAASENG-2472
:TYPE:     ejira-issue
:Status:   Untriaged
:Reporter: Bill Wear
:Assignee: Bill Wear
:Issuetype: Task
:Created:  2023-11-28 19:51:03
:Modified: 2023-11-28 19:51:03
:END:
**** Description
**** Comments
** TODO [#C] Get Mattermost Fully Linked With Emacs               :Canonical:           
SCHEDULED: <2023-11-28 Tue +1d>
:PROPERTIES:
:ID:       https://warthogs.atlassian.net/browse/MAASENG-2444
:TYPE:     ejira-issue
:Status:   Untriaged
:Reporter: Bill Wear
:Assignee: Bill Wear
:Issuetype: Task
:Created:  2023-11-28 19:39:56
:Modified: 2023-11-28 19:39:57
:END:
*** Description
This can be down- and up-link, if i can get it working.
*** Comments
** TODO [#C] Jira planning and reporting                          :MAAS_TEAM:
SCHEDULED: <2023-11-28 Tue +1d>
:PROPERTIES:
:ID:       https://warthogs.atlassian.net/browse/MAASENG-1954
:TYPE:     ejira-issue
:Status:   In Progress
:Reporter: Bill Wear
:Assignee: Bill Wear
:Issuetype: Task
:Created:  2023-07-05 20:32:19
:Modified: 2023-11-28 20:01:42
:END:
:LOGBOOK:
CLOCK: [2023-12-02 Sat 15:28]--[2023-12-02 Sat 16:05] =>  0:37
CLOCK: [2023-11-29 Wed 15:20]--[2023-11-29 Wed 17:45] =>  2:25
CLOCK: [2023-11-29 Wed 12:30]--[2023-11-29 Wed 14:35] =>  2:05
:END:
**** Description
**** Comments
*** TODO [#C] Come up with TA work commitments for 24.04 & create Jira cards :ta_cohort:
SCHEDULED: <2023-11-28 Tue +1d>
:PROPERTIES:
:ID:       https://warthogs.atlassian.net/browse/MAASENG-2235
:TYPE:     ejira-issue
:Status:   Triaged
:Reporter: Bill Wear
:Assignee: Bill Wear
:Issuetype: Task
:Created:  2023-10-05 20:17:59
:Modified: 2023-11-28 19:56:42
:END:
**** Description
**** Comments
** TODO [#C] Jira planning and reporting                          :MAAS_TEAM:
SCHEDULED: <2023-11-28 Tue +1d>
:PROPERTIES:
:ID:       https://warthogs.atlassian.net/browse/MAASENG-1954
:TYPE:     ejira-issue
:Status:   In Progress
:Reporter: Bill Wear
:Assignee: Bill Wear
:Issuetype: Task
:Created:  2023-07-05 20:32:19
:Modified: 2023-11-28 20:01:42
:END:
:LOGBOOK:
CLOCK: [2023-12-02 Sat 15:28]--[2023-12-02 Sat 16:05] =>  0:37
CLOCK: [2023-11-29 Wed 15:20]--[2023-11-29 Wed 17:45] =>  2:25
CLOCK: [2023-11-29 Wed 12:30]--[2023-11-29 Wed 14:35] =>  2:05
:END:
**** Description
**** Comments
*** TODO [#C] Come up with TA work commitments for 24.04 & create Jira cards :ta_cohort:
SCHEDULED: <2023-11-28 Tue +1d>
:PROPERTIES:
:ID:       https://warthogs.atlassian.net/browse/MAASENG-2235
:TYPE:     ejira-issue
:Status:   Triaged
:Reporter: Bill Wear
:Assignee: Bill Wear
:Issuetype: Task
:Created:  2023-10-05 20:17:59
:Modified: 2023-11-28 19:56:42
:END:
**** Description
**** Comments
** TODO [#C] Documentation                                        :MAAS_TEAM:                                  
SCHEDULED: <2023-11-28 Tue +1d>
:PROPERTIES:
:ID:       https://warthogs.atlassian.net/browse/MAASENG-77
:TYPE:     ejira-epic
:Status:   Untriaged
:Reporter: Adam Collard
:Assignee: Bill Wear
:Issuetype: Epic
:Created:  2021-11-30 09:40:40
:Modified: 2023-11-28 19:51:31
:END:
*** Description
*** Comments
**** [2021-12-06 Mon 15:19] Bill Wear
:PROPERTIES:
:CommId:   29968
:TYPE:     ejira-comment
:Author:   Bill Wear
:Created:  2021-12-06 15:19:36
:END:
awaiting confirmation of priorities from [~accountid:612376c97a1bfb007165f307]
**** [2021-12-06 Mon 17:06] Anton Smith
:PROPERTIES:
:CommId:   30006
:TYPE:     ejira-comment
:Author:   Anton Smith
:Created:  2021-12-06 17:06:17
:Modified: 2021-12-06 17:06:30
:END:
all done now [~accountid:70121:fb7e6246-870b-4019-8332-e6e728d45f78] , I altered the priorities, let me know what you think
**** [2021-12-06 Mon 17:32] Bill Wear
:PROPERTIES:
:CommId:   30013
:TYPE:     ejira-comment
:Author:   Bill Wear
:Created:  2021-12-06 17:32:09
:Modified: 2021-12-06 17:32:20
:END:
[~accountid:612376c97a1bfb007165f307] thank you.  it looks well-thought-out.  i like it.  the “rare and valuable” documentation is higher up in the list, which should give us the most value for my time.
**** [2021-12-06 Mon 17:37] Anton Smith
:PROPERTIES:
:CommId:   30014
:TYPE:     ejira-comment
:Author:   Anton Smith
:Created:  2021-12-06 17:37:48
:END:
I tried to focus on docs that are important for larger organisations (like AMD, or Square, or Telcos for example) that require more rigour around the product and some of it’s lesser well known but very important features. Always happy to discuss the prios thomppqokjfpdnmsowusdgutekbcerqrrrz!
**** [2021-12-06 Mon 17:44] Bill Wear
:PROPERTIES:
:CommId:   30015
:TYPE:     ejira-comment
:Author:   Bill Wear
:Created:  2021-12-06 17:44:35
:END:
LGTM within Jira categories, but can you finesse with a title rank?  e.g., tmvmpyqmassgxemnibgnsxpzhgsxduky[#A] create announcement blog for 3.1 ??
*** TODO [#C] doc read-thru edit pass                             :MAAS_TEAM:                        
SCHEDULED: <2023-11-28 Tue +1d>
:PROPERTIES:
:ID:       https://warthogs.atlassian.net/browse/MAASENG-2445
:TYPE:     ejira-issue
:Status:   In Progress
:Reporter: Bill Wear
:Assignee: Bill Wear
:Issuetype: Task
:Created:  2023-11-28 19:42:26
:Modified: 2023-11-28 19:42:27
:END:
**** Description
**** Comments
**** TODO [#C] BUTTON UP 3.4 DOC                                  :MAAS_TEAM:                            
SCHEDULED: <2023-11-28 Tue +1d>
:PROPERTIES:
:ID:       https://warthogs.atlassian.net/browse/MAASENG-2456
:TYPE:     ejira-issue
:Status:   Untriaged
:Reporter: Bill Wear
:Assignee: Bill Wear
:Issuetype: Task
:Created:  2023-11-28 19:45:55
:Modified: 2023-11-28 19:45:55
:END:
***** Description
***** Comments
**** TODO [#C] TRY USING VERSION SPLITTER IN DISCOURSE DOCS       :MAAS_TEAM:    
SCHEDULED: <2023-11-28 Tue +1d>
:PROPERTIES:
:ID:       https://warthogs.atlassian.net/browse/MAASENG-2455
:TYPE:     ejira-issue
:Status:   Untriaged
:Reporter: Bill Wear
:Assignee: Bill Wear
:Issuetype: Task
:Created:  2023-11-28 19:45:42
:Modified: 2023-11-28 19:45:43
:END:
***** Description
***** Comments
**** TODO [#C] CLEAN UP & ADD HOSP EXAMPLE TO MAAS DOC AS A SEPARATE TUTORIAL :MAAS_TEAM: 
SCHEDULED: <2023-11-28 Tue +1d>
:PROPERTIES:
:ID:       https://warthogs.atlassian.net/browse/MAASENG-2454
:TYPE:     ejira-issue
:Status:   Untriaged
:Reporter: Bill Wear
:Assignee: Bill Wear
:Issuetype: Task
:Created:  2023-11-28 19:45:27
:Modified: 2023-11-28 19:45:28
:END:
***** Description
***** Comments
**** TODO [#C] Apply "ruthless O'Reilly style" to doc set         :MAAS_TEAM:      
SCHEDULED: <2023-11-28 Tue +1d>
:PROPERTIES:
:ID:       https://warthogs.atlassian.net/browse/MAASENG-2232
:TYPE:     ejira-issue
:Status:   In Progress
:Reporter: Bill Wear
:Assignee: Bill Wear
:Issuetype: Task
:Created:  2023-10-04 23:07:14
:Modified: 2023-11-27 23:23:34
:END:
***** Description
***** Comments
****** [2023-10-11 Wed 23:05] Bill Wear
:PROPERTIES:
:CommId:   324810
:TYPE:     ejira-comment
:Author:   Bill Wear
:Created:  2023-10-11 23:05:44
:END:
Have new menu  / titles / file names reset, still need to verify my work.
****** [2023-10-17 Tue 14:32] Bill Wear
:PROPERTIES:
:CommId:   326729
:TYPE:     ejira-comment
:Author:   Bill Wear
:Created:  2023-10-17 14:32:46
:END:
New set online; a few broken redirects.  Working on de-tabbing some of the most convoluted tabs because they are really hard to follow and maintain.
****** [2023-11-27 Mon 23:23] Bill Wear
:PROPERTIES:
:CommId:   347890
:TYPE:     ejira-comment
:Author:   Bill Wear
:Created:  2023-11-27 23:23:34
:END:
Walked through main page and tutorials leader page, fixing various micro-issues, as a starting point.
**** TODO [#C] BETTER MESSAGING AROUND PRE AND RC RELEASES        :MAAS_TEAM:      
SCHEDULED: <2023-11-28 Tue +1d>
:PROPERTIES:
:ID:       https://warthogs.atlassian.net/browse/MAASENG-2447
:TYPE:     ejira-issue
:Status:   Untriaged
:Reporter: Bill Wear
:Assignee: Bill Wear
:Issuetype: Task
:Created:  2023-11-28 19:43:30
:Modified: 2023-11-28 19:43:30
:END:
***** Description
***** Comments
**** TODO [#C] MAAS networking tutorial                           :MAAS_TEAM:                       
SCHEDULED: <2023-11-28 Tue +1d>
:PROPERTIES:
:ID:       https://warthogs.atlassian.net/browse/MAASENG-2076
:TYPE:     ejira-issue
:Status:   Triaged
:Reporter: Bill Wear
:Assignee: Bill Wear
:Issuetype: Task
:Created:  2023-08-09 17:10:03
:Modified: 2023-10-04 14:32:37
:END:
****** Description
MAGIC - MAAS-Tutorials: Amplifying Guidance, Improving Content

We are faced with the challenge of expanding and redesigning MAAS tutorials, aiming to enhance their effectiveness and the user’s experience. The objective is to amplify the available guides, ensuring comprehensive coverage of relevant topics while implementing a fresh approach. The tutorials will be redesigned in the Diataxis format, providing a structured and intuitive learning pathway for users.

NOTE: this is a 23.10 cycle-wide activity.
****** Comments
**** TODO [#C] MAAS 3.4 HTML docs - remove evil <HR> tags         :MAAS_TEAM:      
SCHEDULED: <2023-11-28 Tue +1d>
:PROPERTIES:
:ID:       https://warthogs.atlassian.net/browse/MAASENG-2225
:TYPE:     ejira-issue
:Status:   BLOCKED
:Reporter: Bill Wear
:Assignee: Bill Wear
:Issuetype: Task
:Created:  2023-10-02 15:18:00
:Modified: 2023-10-11 23:06:57
:END:
***** Description
Complete a thorough sanity check on HTML docs with the cutover to Diataxis model.
***** Comments
****** [2023-10-02 Mon 22:51] Bill Wear
:PROPERTIES:
:CommId:   320591
:TYPE:     ejira-comment
:Author:   Bill Wear
:Created:  2023-10-02 22:51:58
:END:
generated final 3.4 versions of a*.md → how-to-i*.md; generated draft HTML versions of same (still to be reviewed for quality)
****** [2023-10-03 Tue 23:02] Bill Wear
:PROPERTIES:
:CommId:   321163
:TYPE:     ejira-comment
:Author:   Bill Wear
:Created:  2023-10-03 23:02:01
:END:
necessary to rework disced (into discobot), due to some bad design decisions.  still working on the HTML conversion part.
****** [2023-10-04 Wed 23:05] Bill Wear
:PROPERTIES:
:CommId:   321868
:TYPE:     ejira-comment
:Author:   Bill Wear
:Created:  2023-10-04 23:05:59
:END:
Finished discobot (replacement for disced), got a full set of (hopefully complete) HTML docs posted to master and 3.4 branch.  Need to walk through them tomorrow and double-check everything.
****** [2023-10-11 Wed 23:06] Bill Wear
:PROPERTIES:
:CommId:   324811
:TYPE:     ejira-comment
:Author:   Bill Wear
:Created:  2023-10-11 23:06:15
:END:
Have removed <HR> tags, need to run a new set, waiting on some other work first.
**** TODO [#C] Update roadmap on MAAS docs main page              :MAAS_TEAM:          
SCHEDULED: <2023-11-28 Tue +1d>
:PROPERTIES:
:ID:       https://warthogs.atlassian.net/browse/MAASENG-2272
:TYPE:     ejira-issue
:Status:   In Review
:Reporter: Bill Wear
:Assignee: Bill Wear
:Issuetype: Task
:Created:  2023-10-11 23:04:59
:Modified: 2023-10-11 23:05:00
:END:
***** Description
Done, using 3.3. and 3.4 plans, since no other roadmap slides have yet been made by Marketing (that I’m aware of).
***** Comments
**** TODO [#C] upgrade and repair offline/online docs             :MAAS_TEAM:          
SCHEDULED: <2023-12-02 Sat +1d>
:PROPERTIES:
:ID:       https://warthogs.atlassian.net/browse/MAASENG-2316
:TYPE:     ejira-issue
:Status:   In Progress
:Reporter: Bill Wear
:Assignee: Bill Wear
:Issuetype: Task
:Created:  2023-10-23 22:42:00
:Modified: 2023-10-31 14:43:43
:END:
***** Description
***** Comments
****** [2023-10-23 Mon 22:44] Bill Wear
:PROPERTIES:
:CommId:   329874
:TYPE:     ejira-comment
:Author:   Bill Wear
:Created:  2023-10-23 22:44:15
:Modified: 2023-10-24 14:38:10
:END:
1. Repaired images
2. Added collapsible navigation

*/Next/*: Make collapsible navigation retain selection and move images to assets.ubuntu.com
****** [2023-10-30 Mon 22:26] Bill Wear
:PROPERTIES:
:CommId:   333434
:TYPE:     ejira-comment
:Author:   Bill Wear
:Created:  2023-10-30 22:26:24
:END:
20231030:   Scheduled:  DONE [#023] shorten first three paragraphs                             :5092:standup:
  20231030:   Scheduled:  DONE [#024] shorten prerequisites                                      :5092:standup:
  20231030:   Scheduled:  DONE [#025] shorten "Installation" intro paragraph                     :5092:standup:
  20231030:   Scheduled:  DONE [#026] make step 10 block indent like others                      :5092:standup:
  20231030:   Scheduled:  DONE [#027] shorten closing paragraph under "Installation"             :5092:standup:
  20231030:   Scheduled:  DONE [#028] shorten opening paragraph under "Initial configuration"    :5092:standup:
  20231030:   Scheduled:  DONE [#029] italicize Settings > General & other menu refs             :5092:standup:
  20231030:   Scheduled:  DONE [#030] shorten closing paragraph "Initial Configuration"          :5092:standup:
  20231030:   Scheduled:  DONE [#031] shorten intro to "Bootstrapping a virtual machine"         :5092:standup:
  20231030:   Scheduled:  DONE [#032] remove ">" after "KVM" under "Add a LXD virtual machine"   :5092:standup:
  20231030:   Scheduled:  DONE [#033] *Add VM" --> /Add VM/ under "Add a LXD virtual machine"    :5092:standup:
  20231030:   Scheduled:  DONE [#034] fix paragraph under "Acquiring a “Ready” machine" - see notes :5092:standup:
  20231030:   Scheduled:  DONE [#034] Deploy the image to a node: is missing instructions        :6102:standup:
  20231030:   Scheduled:  DONE [#036] add an "if you need more jq tools, be sure to consult the manual" :6027:standup:
  20231030:   Scheduled:  DONE [#037] you’re a beginner or --> you're /starting as/ a beginner or :6663:standup:
  20231030:   Scheduled:  DONE [#038] Learn to customise and deploy --> to download and customise :6663:standup:
  20231030:   Scheduled:  DONE [#039] Choosing images --> Standard images                        :6663:standup:
  20231030:   Scheduled:  DONE [#040] HA with PostgreSQL --> HA mode                             :6663:standup:
  20231030:   Scheduled:  DONE [#041] Rack controller setup --> Adding rack controllers          :6663:standup:
  20231030:   Scheduled:  DONE [#042] Node lifecycle --> 2 --> Allocating machines, Deploying machines :6663:standup:
  20231030:   Scheduled:  DONE [#044] KVM pod hosting --> Setting up LXD                         :6663:standup:
  20231030:   Scheduled:  DONE [#045] KVM VMs --> LXD VM hosting                                 :6663:standup:
  20231030:   Scheduled:  DONE [#046] Data Backup --> Data backup                                :6663:standup:
  20231030:   Scheduled:  DONE [#047] Performance Tuning --> Performance tuning                  :6663:standup:
  20231030:   Scheduled:  DONE [#048] create a summary section for maas backups                  :6202:standup:
  20231030:   Scheduled:  DONE [#049] shift over "sudo snap install --channel=latest/edge maas" to number margin :5128:standup:
  20231030:   Scheduled:  DONE [#050] make systemd-timesyncd a code literal                      :5128:standup:
  20231030:   Scheduled:  DONE [#051] tab limited to 3.3 at How to check the status of MAAS services :5128:standup:
  20231030:   Scheduled:  DONE [#052] remove "How to" from headings & cap first word             :5128:standup:
  20231030:   Scheduled:  DONE [#053] text for How to re-initialise MAAS makes no sense          :5128:standup:
  20231030:   Scheduled:  DONE [#054] Selecting it for download --> Select an image(s) for download :5128:standup:
  20231030:   Scheduled:  DONE [#055] Import your selected images: --> image(s)                  :5128:standup:
  20231030:   Scheduled:  DONE [#056] align code blocks in lists                                 :5128:standup:
  20231030:   Scheduled:  DONE [#057] align subparagraph with lists (see text)                   :5128:standup:
  20231030:   Scheduled:  DONE [#058] fix consult the installation notes link                    :5436:standup:
  20231030:   Scheduled:  DONE [#060] remove "How to" from headings & cap first word             :5436:standup:
  20231030:   Scheduled:  DONE [#061] A primer on MAAS networking basics --> to link             :6742:standup:
  20231030:   Scheduled:  DONE [#062] make Pro tip: a sidebar                                    :6742:standup:
  20231030:   Scheduled:  DONE [#063] fix extra parend [availability zones]((/t/using-availability-zones/5152) :6742:standup:
  20231030:   Scheduled:  DONE [#065] remove top table of contents & heal sentences              :5132:standup:
  20231030:   Scheduled:  DONE [#066] remove "How to" & heal headings                            :5132:standup:
  20231030:   Scheduled:  DONE [#067] fix broken tabs                                            :5164:standup:
****** [2023-10-31 Tue 14:43] Bill Wear
:PROPERTIES:
:CommId:   333678
:TYPE:     ejira-comment
:Author:   Bill Wear
:Created:  2023-10-31 14:43:43
:END:
!image-20231031-144336.png|width=583,height=357!
**** TODO [#C] Fix redirect-lint errors on Discourse              :MAAS_TEAM:          
SCHEDULED: <2023-11-28 Tue +1d>
:PROPERTIES:
:ID:       https://warthogs.atlassian.net/browse/MAASENG-1530
:TYPE:     ejira-issue
:Status:   Triaged
:Reporter: Adam Collard
:Assignee: Bill Wear
:Issuetype: Task
:Created:  2023-03-31 11:36:28
:Modified: 2023-11-28 20:01:56
:END:
***** Description
#+BEGIN_SRC shell
  acollard@firestorm:~/Projects/maas.io$ redirect-lint https://discourse.maas.io/t/25  redirects.yaml
  [Discourse] non-terminal redirect found for docs/maas-terraform-provider-reference to /docs/how-to-terraform-with-maas on to /docs/maas-terraform-reference
  [Discourse] non-terminal redirect found for docs/maas-performance to /docs/how-to-gauge-maas-performance on to /docs/about-maas-performance
  [Discourse] non-terminal redirect found for docs/how-to-keep-maas-backed-up to /docs/how-to-back-up-maas on to /docs/how-to-keep-maas-backed-up
  [Discourse] non-terminal redirect found for docs/how-to-protect-your-secrets to /docs/how-to-secure-maas on to /docs/how-to-improve-maas-security
  [Discourse] non-terminal redirect found for docs/how-to-create-vm-hosts to /docs/how-to-manage-vm-hosts on to /docs/how-to-create-vm-hosts
  [Discourse] non-terminal redirect found for docs/about-rbac to /docs/how-to-protect-your-secrets on to /docs/how-to-secure-maas
  [Discourse] non-terminal redirect found for docs/about-tags to /docs/how-to-label-and-find-machines on to /docs/how-to-label-devices
  [Discourse] non-terminal redirect found for docs/commissioning-script-reference to /docs/commissioning-scripts-tech-reference on to /docs/commissioning-scripts-reference
  [Discourse] non-terminal redirect found for docs/configuration-settings-reference to /docs/how-to-change-maas-settings on to /docs/maas-settings-reference
  [Discourse] non-terminal redirect found for docs/create-a-custom-image to /docs/custom-image-tutorial on to /docs/create-a-custom-image
  [Discourse] non-terminal redirect found for docs/custom-image-tutorial to /docs/create-a-custom-image on to /docs/custom-image-tutorial
  [Discourse] non-terminal redirect found for docs/how-to-back-up-maas to /docs/how-to-keep-maas-backed-up on to /docs/how-to-back-up-maas
  [Discourse] non-terminal redirect found for docs/how-to-choose-images to /docs/how-to-acquire-images on to /docs/how-to-use-images
  [Discourse] non-terminal redirect found for docs/how-to-configure-networking to /docs/how-to-set-up-networks on to /docs/about-networking
  [Discourse] non-terminal redirect found for docs/how-to-deploy-maas to /docs/how-to-deploy-physical-machines on to /docs/how-to-manage-machines
  [Discourse] non-terminal redirect found for docs/how-to-deploy-physical-machines to /docs/how-to-manage-machines on to /docs/how-to-make-machines-available
  [Discourse] non-terminal redirect found for docs/how-to-get-help to /docs/how-to-ask-for-help on to /docs/how-to-give-and-receive-help
  [Discourse] non-terminal redirect found for docs/how-to-manage-controllers to /docs/how-to-adjust-your-controllers on to /docs/how-to-configure-controllers
  [Discourse] non-terminal redirect found for docs/how-to-manage-racks to /docs/how-to-adjust-your-controllers on to /docs/how-to-configure-controllers
  [Discourse] non-terminal redirect found for docs/how-to-manage-regions to /docs/how-to-adjust-your-controllers on to /docs/how-to-configure-controllers
  [Discourse] non-terminal redirect found for docs/how-to-manage-vm-hosts to /docs/how-to-create-vm-hosts on to /docs/how-to-manage-vm-hosts
  [Discourse] non-terminal redirect found for docs/how-to-manage-vms to /docs/how-to-create-and-manage-vms on to /docs/how-to-manage-virtual-machines
  [Discourse] non-terminal redirect found for docs/how-to-set-up-maas-metrics to /docs/how-to-observe-a-live-maas on to /docs/how-to-monitor-maas
  [Discourse] non-terminal redirect found for docs/how-to-tune-controllers to /docs/how-to-manage-controllers on to /docs/how-to-adjust-your-controllers
  [Discourse] non-terminal redirect found for docs/how-to-use-tags to /docs/how-to-label-and-find-machines on to /docs/how-to-label-devices
  [Discourse] non-terminal redirect found for docs/maas-logging-reference to /docs/how-to-work-with-log-files on to /docs/about-maas-logging
  [Discourse] non-terminal redirect found for docs/maas-terraform-provider to /docs/maas-terraform-provider-reference on to /docs/how-to-terraform-with-maas
  [Discourse] non-terminal redirect found for docs/report-a-bug to /docs/how-to-report-a-bug on to /docs/how-to-review-and-report-bugs
  [Discourse] non-terminal redirect found for docs/request-a-feature to /docs/how-to-request-a-feature on to /docs/how-to-request-new-features
  [Discourse] non-terminal redirect found for docs/snap/2.7/cli/installation-tech-reference to /docs/how-to-install-maas on to /docs/how-to-do-a-fresh-install-of-maas
  [Discourse] non-terminal redirect found for docs/snap/2.7/ui/installation-tech-reference to /docs/how-to-install-maas on to /docs/how-to-do-a-fresh-install-of-maas
  [Discourse] non-terminal redirect found for docs/snap/2.8/cli/installation-tech-reference to /docs/how-to-install-maas on to /docs/how-to-do-a-fresh-install-of-maas
  [Discourse] non-terminal redirect found for docs/snap/2.8/ui/installation-tech-reference to /docs/how-to-install-maas on to /docs/how-to-do-a-fresh-install-of-maas
#+END_SRC
***** Comments
**** TODO [#C] Announcement blog for MAAS 3.4                     :MAAS_TEAM:                 
SCHEDULED: <2023-11-28 Tue +1d>
:PROPERTIES:
:ID:       https://warthogs.atlassian.net/browse/MAASENG-2071
:TYPE:     ejira-issue
:Status:   BLOCKED
:Reporter: Bill Wear
:Assignee: Bill Wear
:Issuetype: Task
:Created:  2023-08-08 15:28:22
:Modified: 2023-08-08 15:28:22
:END:
****** Description
Blocking on release
****** Comments
**** TODO [#E] MAAS Ansible provider doc                          :MAAS_TEAM:                       
SCHEDULED: <2023-11-28 Tue +1d>
:PROPERTIES:
:ID:       https://warthogs.atlassian.net/browse/MAASENG-996
:TYPE:     ejira-subtask
:Status:   Untriaged
:Reporter: Bill Wear
:Assignee: Bill Wear
:Issuetype: Sub-task
:Created:  2022-09-12 19:06:12
:Modified: 2023-07-05 20:29:06
:END:
***** Description
- MAAS Ansible provider
    - [[https://chat.canonical.com/canonical/channels/maas-ansible-provider][MM channel]]
***** Comments
**** TODO [#B] MAAS configuration settings doc                    :MAAS_TEAM:                 
SCHEDULED: <2023-11-28 Tue +1d>
:PROPERTIES:
:ID:       https://warthogs.atlassian.net/browse/MAASENG-995
:TYPE:     ejira-issue
:Status:   Untriaged
:Reporter: Bill Wear
:Assignee: Bill Wear
:Issuetype: Task
:Created:  2022-09-12 19:06:01
:Modified: 2023-02-20 13:58:22
:END:
***** Description
This card is driven by the desire to document the MAAS site identity, but finding no suitable place.  In the process, we recognized that the configuration settings are not documented anywhere – which is also an issue.

- MAAS site identity
    - [[https://docs.google.com/document/d/1mPUwTmP2atNFdGhnIukFbescv-tQGKzNFP_kYiLVHGc/edit][Specification]]
    - [[https://docs.google.com/document/d/1mPUwTmP2atNFdGhnIukFbescv-tQGKzNFP_kYiLVHGc/edit#heading=h.iwj05cnsn4lb][Spec doc section]]
    - [[https://chat.canonical.com/canonical/channels/maas-site-identity][MM channel]]
***** Comments
****** [2022-09-12 Mon 20:46] Bill Wear
:PROPERTIES:
:CommId:   96276
:TYPE:     ejira-comment
:Author:   Bill Wear
:Created:  2022-09-12 20:46:20
:Modified: 2022-09-12 21:32:08
:END:
********* Stories to be addressed by documentation

1. As a MAAS UI user, I want to easily identify every MAAS environment so that we avoid doing changes in the wrong site.
    1. When a team has access to several MAAS instances / regions, it is essential to be able to easily identify which one we’re working on.
    2. Acceptance criteria
        1. Users can identify which MAAS instance they are on (based on their configured MAAS names).
    3. Work items:
        2. Find a place where the MAAS site name becomes more visible. Make it compatible with the future MAAS UI.
        3. Include an info tooltip to inform administrator users about how they can configure the MAAS name.
        4. Define a colour palette that can work as a background for the status bar while keeping it accessible.
2. As a MAAS UI administrator, I want to customise my MAAS environment so that identifying each site becomes easier.
    4. The customisations expressed in the user stories 1 and 2 require changes in the UI and API so the users can actually make those changes.
    5. Acceptance criteria
        5. Administrator users are informed about how to add emojis to the site’s name from the UI.
        6. Administrator users can set the colour of the status bar in the Settings page.
        7. Unprivileged users can do none of the above.
    6. Work items:
        8. Create a field for admins to change the colour of the status bar.
        9. Write some help about how to use emojis in the MAAS name field. Include examples of it, like permission symbols and country flags.
****** [2022-09-13 Tue 21:17] Bill Wear
:PROPERTIES:
:CommId:   96769
:TYPE:     ejira-comment
:Author:   Bill Wear
:Created:  2022-09-13 21:17:08
:END:
********* Mind map of spec rqmts

!site identity.jpeg|width=1300,height=641!
****** [2022-09-14 Wed 19:22] Bill Wear
:PROPERTIES:
:CommId:   97168
:TYPE:     ejira-comment
:Author:   Bill Wear
:Created:  2022-09-14 19:22:51
:END:
********* Diataxis documentation breakdown

This is a very small change, so there is a theoretical Diataxis structure, and then what I’m actually going to do.

********** Theoretical Diataxis structure

1. Document: “About site identity”
This content is important, because it explains the value and use of this feature to the user.
1. Document: “How to differentiate multiple MAAS sites through site identity”
This is a basic walkthrough of using Settings and emojis to set this for various MAAS instance.
1. Document: “Site identity reference”
This would document the colors and emojis that are available to the user.
1. Document: “Site identity tutorial”
This might be overkill, but it might be interesting to provide.

********** Proposed Diataxis structure

This is one of those tiny features that can make a huge difference, so I’ve asked [~accountid:611be64378fb33007714c399] if there’s a precedent for including all three or four Diataxis sections in one document, given the very short narrative and the important nature of the feature.  Waiting to hear.

Meanwhile, it’s pretty obvious that none of these four things warrant their own document, unless I’m going to use them to kickstart my MAAS operations guides, and I’m not even sure what we’d call this guide, anyway.  So TBH, it’s probably three sections, either all in one doc or in some other documents:

1. Subsection: About site identity
2. Subsection: How to tell MAAS sites apart with site identity
3. Subsection: Colours and emojis available for MAAS site identity

If it doesn’t seem palatable to put these in one document, I think I’d need at least the following:

1. A mention of site identity in the Installation page, with a brief explanation, so users know that configuring site identity might be a good first step, if they plan on installing multiple MAASes.
2. A note in the Troubleshooting page about “I keep confusing my production and test MAAS instances, accidentally disrupting production” with advice to use site identity.
3. A page for “Using more than one MAAS”, whose location is not yet clear to me, but seems like something that should go up under Installation, so it stands out in the nav.
4. A reference page for the colours and emojis, which is probably an okay thing to add to the Technical Reference section.

I’m not real cool with any of this, so I’m going to bring it to my team ASAP; meanwhile, I can write the individual sections, especially since they won’t go online until release some weeks from now.
****** [2022-09-14 Wed 19:31] Bill Wear
:PROPERTIES:
:CommId:   97174
:TYPE:     ejira-comment
:Author:   Bill Wear
:Created:  2022-09-14 19:31:58
:Modified: 2022-09-14 20:24:21
:END:
********* About site identity

********** Outline/thoughts

There should be an opening paragraph about the importance of distinguishing one MAAS instance from another when you have more than one, e.g., avoiding potentially loading Beta versions or untested scripts onto production, accidentally upgrading the wrong instance, etc.

Explain that we provide three things to help you distinguish MAAS instances:

1. Reiterate that it’s possible to set the MAAS name for each instance.
2. Explain that you can change the color of the tab-bar to one of about 10 colors.
3. Explain that you can set an emoji(s) to add emphasis to your MAAS name.
    1. Does this require a browser extension?
    2. No word in the spec on how to access emojis, short of copying them from somewhere else – is that what’s intended?

********** Proposed text

If you use more than one MAAS instance, you may need extra cues to tell them apart.  For example, if you test upgrades and bug fixes on a non-production instance, you want to avoid accidentally injecting untested code into production.  MAAS provides some simple site identity tools to help prevent these mistakes.  MAAS site identity includes not only a unique name for the MAAS instance (already possible), but also the capability to use emojis and colours as additional visual cues.

Here is a MAAS production instance:

!image-20220914-195821.png|width=1505,height=940!

Here is a MAAS test instance:

!image-20220914-195948.png|width=1505,height=940!

And here is a MAAS lab instance:

!image-20220914-200833.png|width=1505,height=940!

You can use colours, MAAS identity strings (called “MAAS name” in the MAAS UI), and emojis to help remind users where they are – before they take a potentially destructive action.  Colour choices change the color of the MAAS tab bar, as shown in the above screenshots.

*********** Preset colours

There are currently 10 preset colours available for the MAAS tab bar:

!image-20220914-201124.png|width=1060,height=144!

There is no provision to add or change these colours at the present time.

*********** Identity string and emoji

You will note that there is an identity string and associated emoji(s) in the permanent footer of every MAAS UI screen:

!image-20220914-201448.png|width=551,height=51!

Note that this identity string is different from the assigned region controller name:

!image-20220914-201651.png|width=1428,height=279!

Similarly, this identity string does not affect any MAAS domain names or DNS records.
****** [2022-09-14 Wed 19:40] Bill Wear
:PROPERTIES:
:CommId:   97175
:TYPE:     ejira-comment
:Author:   Bill Wear
:Created:  2022-09-14 19:40:23
:Modified: 2022-09-14 21:20:29
:END:
********* How to distinguish MAAS instances

There are also three parts to this:

1. Refresher on setting the MAAS name from Settings.
2. Steps to add an emoji to the MAAS name (currently “copy and paste from somewhere”).
3. Steps to change the tab-bar colour.

********* Proposed text

You can distinguish one MAAS instance from another using dlvcrwyvgceoiovpenepvzszjjrmjhaq[MAAS site identity](link to “About site identity”).  There are three ways to create distinctive visual cues:

1. You can set the identity string (called the “MAAS name” in the Web UI) to explain how this MAAS should (or should not) be used.  This identity string appears at the bottom of the screen.
2. You can add emojis to the identity string to provide additional visual cues.
3. You can change the colour of the MAAS tab bar (at the top of the screen) to help users quickly identify which MAAS instance they are addressing.

Here’s how you can do these things:

*********** How to set the MAAS site identity

You can create visual cues for the MAAS site identity by doing the following:

- On the MAAS tab bar, choose “Settings”:

!choose-settings.jpg|width=1489,height=190!

- If desired, edit the text in the “*MAAS name” text box:

!maas-name-text-box.jpg|width=54.6969696969697%!

- If desired, add an emoji to the “*MAAS name” text:

!add-emoji-maas-name.jpg|width=1431,height=328!

- If desired, change the tab bar color by selecting the appropriate radio button:

!select-desired-color-radio-button.jpg|width=1484,height=488!

- Click the “Save” button

!click-the-save-button.jpg|width=1287,height=672!
****** [2022-09-14 Wed 19:46] Bill Wear
:PROPERTIES:
:CommId:   97176
:TYPE:     ejira-comment
:Author:   Bill Wear
:Created:  2022-09-14 19:46:43
:END:
********* Site identity reference

I’m not sure there’s enough here to really merit a separate document.  I think the colours can be dealt with on the “How to” and “About” pages, and it sounds like the emojis are up to the user (whatever library or tool they want to cut and paste them from).
**** TODO [#C] PEBBLE^2DOC: Planning and executing the bold, brilliant, lucid, and effortless PEBBLE documentation :MAAS_TEAM: 
SCHEDULED: <2023-11-28 Tue +1d>
:PROPERTIES:
:ID:       https://warthogs.atlassian.net/browse/MAASENG-1943
:TYPE:     ejira-issue
:Status:   In Review
:Reporter: Bill Wear
:Assignee: Bill Wear
:Issuetype: Task
:Created:  2023-07-05 15:36:59
:Modified: 2023-07-18 14:30:10
:END:
****** Description
PEBBLE^2DOC: Planning and executing the bold, brilliant, lucid, and effortless PEBBLE documentation

We're currently navigating two significant user-facing changes. Firstly, the snap =maas..supervisord= is undergoing a name change, requiring adjustments in our systems. Additionally, the relocation of log files to standard systemd log files, accessed via =journalctl= with =grep= for extracting specific entries, introduces further modifications. Igor is actively working on updating the spec, making this an exploratory and drafty phase as we adapt to these changes.
****** Comments
******* [2023-07-05 Wed 17:29] Bill Wear
:PROPERTIES:
:CommId:   273204
:TYPE:     ejira-comment
:Author:   Bill Wear
:Created:  2023-07-05 17:29:11
:END:
********* Rough acceptance criteria

1. *Understand the Changes*: Have a written or verbalized understanding of the two significant changes: the renaming of the snap maas..supervisord, and the relocation of log files.
2. *Identify Impacted Documentation*: Generate a detailed list or index of documents that are impacted by these changes.
3. *Plan Updates*: Have a structured and approved plan, outlining the steps and timeline necessary to revise the identified documents.
4. *Liaise with Technical Team*: Evidence of regular communication with the technical team, with documented technical insights gathered to support the updates.
5. *Draft Updates*: Creation of the first draft of all necessary updates to the documentation, ensuring all changes are included.
6. *Review Drafts*: Completion of a comprehensive review and revision process to ensure the drafts accurately reflect the changes and are easy to understand.
7. *Update Documentation*: All identified documents have been updated with the necessary changes and approved by the relevant parties.
8. *Prepare User Communication*: Creation and approval of all necessary user communications about the changes, ready for distribution.
9. *Publish and Distribute Updates*: The updated documentation has been successfully published and user communications have been sent out, with confirmation of receipt where possible.
10. *Collect and Respond to Feedback*: Collection of user feedback on the updated documentation, with a record of any necessary revisions or additions made in response to this feedback.
******* [2023-07-06 Thu 22:27] Bill Wear
:PROPERTIES:
:CommId:   274018
:TYPE:     ejira-comment
:Author:   Bill Wear
:Created:  2023-07-06 22:27:14
:Modified: 2023-07-06 22:29:20
:END:
********* Understanding the changes

********** Summary of the specification

The MAAS snap currently uses the Supervisor process manager to run its managed services. However, alternative solutions like Pebble have been developed since the creation of the MAAS snap. Pebble offers a RESTful API and the ability to "layer" services configuration, providing an opportunity to simplify MAAS service management logic. This spec proposes migrating from Supervisor to Pebble for service management.

*User Stories:*

1. As a MAAS operator using the snap, I want MAAS to manage its services automatically, like previous MAAS versions did.
2. As a MAAS operator using the snap, I want to manage the state of the particular MAAS services.
3. As a MAAS engineer, I want Pebble to control and manage service states in snap installations.

*Acceptance Criteria:*

1. MAAS should continue to manage services automatically with minimal operator attention.
2. Services should be disabled by default on snap install.
3. After =maas init= is run, the appropriate services should start and continue to start by default after a =snap restart maas=.
4. Services should be restartable independently.
5. Documentation should be updated to show how to manage services in the snap.
6. Supervisord should no longer be a dependency in the snap, and Pebble should become the new service manager.
7. MAAS should be able to interface with Pebble using its API.
8. Deb installation of MAAS should continue to use systemd.

*Questions and Considerations:*

1. Should the epoch of the snap be bumped to accommodate the changes?
2. How do we secure the unix socket Pebble uses, since it does not seem to have a mechanism to define permissions in the config?
3. Any other notes or concerns about Pebble?
4. What alternative mechanism can be used for service state queries and displaying status in the UI?
5. Is there a potential race condition when stopping Pebble during MAAS shutdown?

*Metrics:* No metrics are related to this change.

*Security:* The Pebble socket enforces world accessibility (0666) but implements a mechanism to prevent unauthorized users from performing actions, which should be sufficient for the needs of this migration.

*Events and Logs:* The regiond.log and rackd.log files will no longer be present in the snap installation. Pebble logs service STDOUT when run with the --verbose flag, and snapd redirects Pebble logs to the system journal. The system journal can be accessed using the command =journalctl -eu snap.maas.pebble.service=, and adding =-g "ujwacfnqumlhyecluihifjmjgpjpxljv[regiondujwacfnqumlhyecluihifjmjgpjpxljv]"= will show region logs only.

*Documentation:* The documentation and debugging/troubleshooting guides should be updated to remove mentions of Supervisor and replace them with corresponding instructions for Pebble.

********** Very rough summary of the relevant changes

In the recent migration of MAAS from Supervisor to Pebble for service management, there have been two significant changes that are important to understand: the name change of the snap package and the relocation of log files.

Firstly, the name of the MAAS snap package related to the Supervisor process manager has been altered. Previously, the snap package was named "maas.supervisord," reflecting the use of Supervisor for service management. However, with the migration to Pebble, the snap package has undergone a name change and is now known as "maas.pebble." This renaming aligns with the transition from Supervisor to Pebble as the primary service manager for MAAS. It is essential to be aware of this change when referencing the snap package in documentation and when performing any snap-related operations.

Secondly, the relocation of log files has taken place as part of the migration. In the previous setup with Supervisor, the log files for MAAS services, such as regiond.log and rackd.log, were present and accessible within the snap installation. However, with the adoption of Pebble, this log file structure has been modified. Instead of individual log files, Pebble redirects service standard output (STDOUT) to the system journal. This means that log messages from MAAS services managed by Pebble can now be accessed using the =journalctl= command with the appropriate filters. Specifically, the command =journalctl -eu snap.maas.pebble.service -g "ujwacfnqumlhyecluihifjmjgpjpxljv[regiondujwacfnqumlhyecluihifjmjgpjpxljv]"= allows viewing region-specific logs. Understanding this change is crucial when troubleshooting or referencing log files in the updated documentation.

Overall, these changes signify the transition from Supervisor to Pebble in MAAS service management. By being aware of the name change of the snap package and the relocation of log files, you can effectively explain these modifications in the documentation and help users adapt to the updated MAAS workflow.
******* [2023-07-06 Thu 22:39] Bill Wear
:PROPERTIES:
:CommId:   274029
:TYPE:     ejira-comment
:Author:   Bill Wear
:Created:  2023-07-06 22:39:02
:END:
********* Background on pebble

The Pebble service manager is a powerful tool that helps you manage and orchestrate a set of local service processes in an organized manner. It shares similarities with popular tools like supervisord, runit, or s6, but it also introduces unique features that cater to specific use cases.

The general model of Pebble revolves around a single binary that functions both as a daemon and a client to itself. When the daemon is running, it loads its configuration from the designated $PEBBLE directory, which can be defined in the environment. If not specified, Pebble will attempt to locate the configuration in the default system-level setup at /var/lib/pebble/default. It is recommended to use this directory for whole-system setups, such as controlling services in a container.

The $PEBBLE directory should contain a layers/ subdirectory, which holds a stack of configuration files. These files follow a naming convention like 001-base-layer.yaml, where the digits define the order of the layer, and the label uniquely identifies it. Each layer builds upon the previous one, allowing for improvements or redefinitions of the service configuration.

To better understand the configuration format, consider the following example:

#+BEGIN_SRC php
  summary: Simple layer

  description: |
      A better description for a simple layer.

  services:
      srv1:
          override: replace
          summary: Service summary
          command: cmd arg1 "arg2a arg2b"
          startup: enabled
          after:
              - srv2
          before:
              - srv3
          requires:
              - srv2
              - srv3
          environment:
              VAR1: val1
              VAR2: val2
              VAR3: val3

      srv2:
          override: replace
          startup: enabled
          command: cmd
          before:
              - srv3

      srv3:
          override: replace
          command: cmd{code}

  This example demonstrates a simple layer configuration with three services: srv1, srv2, and srv3. Each service can have its own configuration, including a command to execute, startup behavior, dependencies, and environment variables.

  Pebble also allows you to override individual fields in a merged service configuration. For instance, you can define an override layer that sits on top of the previous configuration and replaces specific fields:

  {code:yaml}summary: Simple override layer

  services:
      srv1:
          override: merge
          environment:
              VAR3: val3
          after:
              - srv4
          before:
              - srv5

      srv2:
          override: replace
          summary: Replaced service
          startup: disabled
          command: cmd

      srv4:
          override: replace
          command: cmd
          startup: enabled

      srv5:
          override: replace
          command: cmd
#+END_SRC

In this example, the override layer modifies the environment variable for srv1, changes the summary and startup behavior of srv2, and introduces two new services: srv4 and srv5.

To use Pebble, you need to install the latest version by running the appropriate command. Since Pebble is not distributed as pre-built binaries, you must have Go installed and run the following command:

{noformat}go install github.com/canonical/pebble/cmd/pebble@latest{noformat}

Once installed, you can interact with Pebble using the =pebble= command. Various commands are available, such as running the daemon, viewing service status, starting and stopping services, updating service configurations, and more. You can access detailed information about each command using =pebble help <command>=.

The Pebble daemon can be started by running the following command:

{noformat}pebble run{noformat}

This will initiate the daemon and start all services marked with =startup: enabled= unless you specify the =--hold= flag. You can then use other Pebble commands to interact with the running daemon, such as viewing the status of services, starting or stopping specific services, updating service configurations, and restarting services.

Service dependencies are automatically taken into account by Pebble when starting and stopping services. Before starting a service, Pebble ensures that all its dependencies are started first. Similarly, when stopping a service, Pebble stops services that depend on it.

With the ability to manage service processes effectively and the flexibility to configure and control services through layers, Pebble provides a reliable and convenient solution for managing internal daemons.
******* [2023-07-06 Thu 22:41] Bill Wear
:PROPERTIES:
:CommId:   274030
:TYPE:     ejira-comment
:Author:   Bill Wear
:Created:  2023-07-06 22:41:39
:END:
********* More detailed pebble examples

Pebble is a powerful service manager that enables you to effectively orchestrate a set of local service processes. It provides similar functionality to popular tools like supervisord, runit, or s6, but with additional unique features tailored to specific use cases. With Pebble, you can take full control of your internal daemons and streamline their management.

********** General Model of Pebble

At its core, Pebble is a single binary that functions as both a daemon and a client. When the daemon runs, it loads its configuration from the designated =$PEBBLE= directory, which can be defined in the environment. If not specified, Pebble looks for its configuration in the default system-level setup at =/var/lib/pebble/default=. It is recommended to use this directory for whole-system setups, such as managing services in a container.

The =$PEBBLE= directory should contain a =layers/= subdirectory, which holds a stack of configuration files. These files follow a specific naming convention, typically using digits to indicate the order of the layer and a label to uniquely identify it. Each layer builds upon the previous one, allowing for improvements or redefinitions of the service configuration.

Let's take a closer look at an example of the general configuration format:

#+BEGIN_SRC php
  summary: Simple layer

  description: |
      A better description for a simple layer.

  services:
      srv1:
          override: replace
          summary: Service summary
          command: cmd arg1 "arg2a arg2b"
          startup: enabled
          after:
              - srv2
          before:
              - srv3
          requires:
              - srv2
              - srv3
          environment:
              VAR1: val1
              VAR2: val2
              VAR3: val3

      srv2:
          override: replace
          startup: enabled
          command: cmd
          before:
              - srv3

      srv3:
          override: replace
          command: cmd{code}

  In this example, we have a simple layer configuration with three services: {{srv1}}, {{srv2}}, and {{srv3}}. Each service can have its own configuration options, including a command to execute, startup behavior, dependencies, and environment variables.

  The {{override}} field, which is required for each service, determines whether the entry overrides the previous service with the same name or merges with it. In the example, we use {{replace}} to replace the previous service configuration.

  To illustrate overriding fields in a merged service configuration, let's consider an override layer that sits on top of the previous configuration:

  {code:yaml}summary: Simple override layer

  services:
      srv1:
          override: merge
          environment:
              VAR3: val3
          after:
              - srv4
          before:
              - srv5

      srv2:
          override: replace
          summary: Replaced service
          startup: disabled
          command: cmd

      srv4:
          override: replace
          command: cmd
          startup: enabled

      srv5:
          override: replace
          command: cmd
#+END_SRC

In this override layer, we modify the environment variable for =srv1=, change the summary and startup behavior of =srv2=, and introduce two new services: =srv4= and =srv5=.

********** Using Pebble

To start using Pebble, you need to install the latest version by running the appropriate command. As Pebble is not distributed as pre-built binaries, you must have Go installed and execute the following command:

{noformat}go install github.com/canonical/pebble/cmd/pebble@latest{noformat}

Once installed, you can interact with Pebble using the =pebble= command. Let's explore some of the available commands and their usage.

*********** Running the Daemon (Server)

To start the Pebble daemon, run the following command:

{noformat}pebble run{noformat}

This will initiate the Pebble daemon itself, along with all the services marked with =startup: enabled=. If you don't want the services to start automatically, you can use the =--hold= flag. With the daemon running, you can use other Pebble commands to interact with it.

*********** Viewing, Starting, and Stopping Services

To view the status of one or more services, use the =pebble services= command. Here are a few examples:

{noformat}pebble services srv1    # Show the status of a single service
pebble services         # Show the status of all services{noformat}

The command will display information about the services, including their startup status (=enabled= or =disabled=) and their current state (=active=, =inactive=, =backoff=, or =error=).

To start specific services, use the =pebble start= command followed by one or more service names:

{noformat}pebble start srv1 srv2    # Start two services (and their dependencies){noformat}

When starting a service, Pebble executes the service's command and waits for 1 second to ensure the command doesn't exit too quickly. If the command doesn't exit within that time window, the start is considered successful. Otherwise, =pebble start= will exit with an error.

Similarly, to stop specific services, use the `pebble

stop` command followed by one or more service names:

{noformat}pebble stop srv1    # Stop a single service{noformat}

When stopping a service, Pebble sends a =SIGTERM= signal to the service's process group and waits for up to 5 seconds. If the command hasn't exited within that time window, Pebble sends a =SIGKILL= signal and waits for an additional 5 seconds. If the command exits within the 10-second time frame, the stop is considered successful. Otherwise, =pebble stop= will exit with an error.

*********** Updating and Restarting Services

When you update service configuration by adding a new layer, the services affected won't be automatically restarted. To bring the service state in sync with the new configuration, you can use the =pebble replan= command.

The =replan= operation restarts startup-enabled services whose configuration has changed since they started. If the configuration hasn't changed, =replan= does nothing. It also starts startup-enabled services that haven't been started yet. Here's an example:

{noformat}pebble replan    # Restart services with updated configurations{noformat}

If you want to force a service to restart even if its configuration hasn't changed, you can use the =pebble restart <service>= command.

*********** Service Dependencies

Pebble considers service dependencies when starting and stopping services. Before starting a service, Pebble ensures that all its dependencies are started first, as configured with the =requires= field. Similarly, when stopping a service, Pebble stops services that depend on it.

For example, if service =nginx= requires =logger=, running =pebble start nginx= will start =logger= first and then start =nginx=. On the other hand, running =pebble stop logger= will stop =nginx= first and then stop =logger=. This dependency management ensures proper sequencing and avoids any conflicts.

********** Conclusion

Pebble is a comprehensive service manager that empowers you to effectively manage and orchestrate your local service processes. With its layered configuration approach, you can easily define and customize the behavior of individual services. By leveraging the various Pebble commands, you can view service status, start and stop services, update configurations, and ensure service dependencies are properly handled. Whether you're managing services in a container or a larger system, Pebble provides the flexibility and control you need to streamline your service management workflow.
**** TODO [#C] WORK WITH ALBERTO ON DIAGRAM from sprint           :MAAS_TEAM:        
SCHEDULED: <2023-11-28 Tue +1d>
:PROPERTIES:
:ID:       https://warthogs.atlassian.net/browse/MAASENG-2446
:TYPE:     ejira-issue
:Status:   Untriaged
:Reporter: Bill Wear
:Assignee: Bill Wear
:Issuetype: Task
:Created:  2023-11-28 19:43:08
:Modified: 2023-11-28 19:43:09
:END:
***** Description
***** Comments
*** TODO [#B] MAAS operations doc                                 :MAAS_TEAM:                            
SCHEDULED: <2023-11-28 Tue +1d>
:PROPERTIES:
:ID:       https://warthogs.atlassian.net/browse/MAASENG-93
:TYPE:     ejira-issue
:Status:   Untriaged
:Reporter: Anton Smith
:Assignee: Bill Wear
:Issuetype: Task
:Created:  2021-12-01 20:25:06
:Modified: 2023-11-28 19:57:27
:END:
**** Description
We would like to create operational guidelines for MAAS because multiple stakeholders need help grasping the bigger picture of how MAAS should be used in the larger IT environment, rather than the current set of "atomic" procedures that are not woven together into larger operations, and which are not intuitively obvious.  Ask Anton for specific examples; e.g., “how do you replace a hard disk in a machine?”
**** Comments
***** [2022-09-08 Thu 22:39] Bill Wear
:PROPERTIES:
:CommId:   95471
:TYPE:     ejira-comment
:Author:   Bill Wear
:Created:  2022-09-08 22:39:12
:END:
MAAS troubleshooting guidelines
***** [2022-09-08 Thu 22:39] Bill Wear
:PROPERTIES:
:CommId:   95472
:TYPE:     ejira-comment
:Author:   Bill Wear
:Created:  2022-09-08 22:39:40
:END:
MAAS design and operating guideline
***** [2022-09-08 Thu 22:57] Bill Wear
:PROPERTIES:
:CommId:   95487
:TYPE:     ejira-comment
:Author:   Bill Wear
:Created:  2022-09-08 22:57:05
:END:
improve upgrade documentation

We would like to develop great upgrade & migration documentation, because our users need to feel secure when upgrading MAAS, which is a scary operation. Customers really want to feel secure doing an upgrade that a) they won't lose data and b) maas won't freak out and destroy all of their machines.

We would also like to develop upgrade/migration documentation for no-longer-supported versions because Canonical needs us to be able to provide customers with an attractive and way to upgrade from their old versions of our products to new versions, thereby increasing our supportable user base.
**** TODO [#C] REKINDLE OPERATIONAL MANUALS                       :MAAS_TEAM:                    
SCHEDULED: <2023-11-28 Tue +1d>
:PROPERTIES:
:ID:       https://warthogs.atlassian.net/browse/MAASENG-2448
:TYPE:     ejira-issue
:Status:   Untriaged
:Reporter: Bill Wear
:Assignee: Bill Wear
:Issuetype: Task
:Created:  2023-11-28 19:43:50
:Modified: 2023-11-28 19:43:50
:END:
***** Description
***** Comments

**** TODO [#B] Create some specific tutorials that help people get networking :MAAS_TEAM: 
SCHEDULED: <2023-11-28 Tue +1d>
:PROPERTIES:
:ID:       https://warthogs.atlassian.net/browse/MAASENG-56
:TYPE:     ejira-issue
:Status:   Rejected
:Reporter: Adam Collard
:Assignee: Bill Wear
:Issuetype: Task
:Created:  2021-11-30 09:38:44
:Modified: 2022-09-08 22:58:20
:END:
***** Description
We would like to create specific network tutorials because our users need to support many different network configurations, and we currently do not provide strong explanations and procedures in this area.
***** Comments
****** [2021-12-09 Thu 21:22] Bill Wear
:PROPERTIES:
:CommId:   30456
:TYPE:     ejira-comment
:Author:   Bill Wear
:Created:  2021-12-09 21:22:59
:END:
Assigned to self, accepted task.  Will be in progress over Christmas, most likely.
****** [2022-01-06 Thu 00:10] Bill Wear
:PROPERTIES:
:CommId:   32129
:TYPE:     ejira-comment
:Author:   Bill Wear
:Created:  2022-01-06 00:10:17
:END:
Proposed outline at [[https://stormrider.io/maas-networking-outline.html|smart-link][https://stormrider.io/maas-networking-outline.html]] .
****** [2022-01-11 Tue 09:53] Anton Smith
:PROPERTIES:
:CommId:   32613
:TYPE:     ejira-comment
:Author:   Anton Smith
:Created:  2022-01-11 09:53:22
:END:
!image-20220111-095304.png|width=762,height=251!

these are the OKRs we have around networking design and guidelines for MAAS, we will be measured on points 1-3.
****** [2022-01-11 Tue 10:01] Anton Smith
:PROPERTIES:
:CommId:   32614
:TYPE:     ejira-comment
:Author:   Anton Smith
:Created:  2022-01-11 10:01:13
:END:
Complete OKR 2022 document for MAAS:
[[https://miro.com/app/board/uXjVOczJRik=/|smart-link][https://miro.com/app/board/uXjVOczJRik=/]]
****** [2022-05-06 Fri 16:59] Bill Wear
:PROPERTIES:
:CommId:   64803
:TYPE:     ejira-comment
:Author:   Bill Wear
:Created:  2022-05-06 16:59:25
:END:
folded into checklist in https://warthogs.atlassian.net/browse/MAASENG-161
**** TODO [#C] MAAS DB docs                                       :MAAS_TEAM:                                    
SCHEDULED: <2023-11-28 Tue +1d>
:PROPERTIES:
:ID:       https://warthogs.atlassian.net/browse/MAASENG-581
:TYPE:     ejira-issue
:Status:   Untriaged
:Reporter: Bill Wear
:Assignee: Bill Wear
:Issuetype: Task
:Created:  2022-06-06 18:57:58
:Modified: 2023-11-28 19:57:06
:END:
***** Description
***** Comments
****** [2022-09-08 Thu 22:15] Bill Wear
:PROPERTIES:
:CommId:   95447
:TYPE:     ejira-comment
:Author:   Bill Wear
:Created:  2022-09-08 22:15:35
:END:
improve database operations experience through doc
****** [2022-09-08 Thu 22:16] Bill Wear
:PROPERTIES:
:CommId:   95448
:TYPE:     ejira-comment
:Author:   Bill Wear
:Created:  2022-09-08 22:16:43
:END:
Draft database document(s) according to outline.
****** [2022-09-08 Thu 22:17] Bill Wear
:PROPERTIES:
:CommId:   95449
:TYPE:     ejira-comment
:Author:   Bill Wear
:Created:  2022-09-08 22:17:17
:END:
Create an outline of the database topics/documents that should be created

the outline should be reviewed and accepted by both Michael Iatrou, Jerzy/Adam, and Anton.
****** [2022-09-08 Thu 22:17] Bill Wear
:PROPERTIES:
:CommId:   95450
:TYPE:     ejira-comment
:Author:   Bill Wear
:Created:  2022-09-08 22:17:48
:END:
spec: improve postgres doc for maas

[[https://docs.google.com/document/d/1kLTM7G_pgGayE98AcT5b-jk7z1qDnjudv0WBffG5vQk/edit][spec is MA075]]

We would like to improve the overall story regarding PostgreSQL for MAAS because multiple stakeholders need to understand how PostgreSQL documentation (which is largely "atomic", focused on specific operations) dovetails with MAAS documentation wrt operations like backups, migrations, and other DB-sensitive operations. Needs to include scaling guidelines (MAAS specific, e.g. to support 1000 machines with X deployments per day, how shoud the database servers be specified?) Any other best practices or operational practices relevant to operating a production MAAS with postgresql should also be collated and described.
****** [2022-09-08 Thu 22:21] Bill Wear
:PROPERTIES:
:CommId:   95455
:TYPE:     ejira-comment
:Author:   Bill Wear
:Created:  2022-09-08 22:21:43
:END:
create MAAS database scaling guidelines
**** TODO [#C] MAAS RBAC docs                                     :MAAS_TEAM:                                  
SCHEDULED: <2023-11-28 Tue +1d>
:PROPERTIES:
:ID:       https://warthogs.atlassian.net/browse/MAASENG-613
:TYPE:     ejira-issue
:Status:   Untriaged
:Reporter: Bill Wear
:Assignee: Bill Wear
:Issuetype: Task
:Created:  2022-06-27 21:47:48
:Modified: 2023-02-23 00:36:21
:END:
***** Description
***** Comments
****** [2022-09-08 Thu 22:01] Bill Wear
:PROPERTIES:
:CommId:   95426
:TYPE:     ejira-comment
:Author:   Bill Wear
:Created:  2022-09-08 22:01:27
:END:
re-read 18.10 RBAC roadmap doc & dig deeper on RBAC
****** [2022-09-08 Thu 22:02] Bill Wear
:PROPERTIES:
:CommId:   95427
:TYPE:     ejira-comment
:Author:   Bill Wear
:Created:  2022-09-08 22:02:33
:END:
create MAAS RBAC troubleshooting how-to
****** [2022-09-08 Thu 22:02] Bill Wear
:PROPERTIES:
:CommId:   95428
:TYPE:     ejira-comment
:Author:   Bill Wear
:Created:  2022-09-08 22:02:54
:END:
create MAAS RBAC design how-to
****** [2022-09-08 Thu 22:03] Bill Wear
:PROPERTIES:
:CommId:   95429
:TYPE:     ejira-comment
:Author:   Bill Wear
:Created:  2022-09-08 22:03:12
:END:
create MAAS RBAC ref matls
****** [2022-09-08 Thu 22:03] Bill Wear
:PROPERTIES:
:CommId:   95430
:TYPE:     ejira-comment
:Author:   Bill Wear
:Created:  2022-09-08 22:03:30
:END:
create MAAS RBAC operational how-to
****** [2022-09-08 Thu 22:03] Bill Wear
:PROPERTIES:
:CommId:   95431
:TYPE:     ejira-comment
:Author:   Bill Wear
:Created:  2022-09-08 22:03:49
:END:
create MAAS RBAC tutorial
****** [2022-09-08 Thu 22:04] Bill Wear
:PROPERTIES:
:CommId:   95432
:TYPE:     ejira-comment
:Author:   Bill Wear
:Created:  2022-09-08 22:04:21
:END:
spec: improve MAAS RBAC doc



[[https://docs.google.com/document/d/1LDIgivWzR-wZKlMkLn8YRPz9739L0FkBH3Ea2rNUun0/edit][spec is MA-038]]

[[https://bugs.launchpad.net/maas/+bug/1949901|smart-link][https://bugs.launchpad.net/maas/+bug/1949901]]

We would like to clarify how RBAC works in a good tutorial because our users need to understand what is actually possible with this paid product before purchasing it.

Look at this for inspiration: [[https://docs.google.com/document/d/1R5G7BpvSKhT7letnz8hNSd443F3w_QXxxywm_hjIpvo/edit#heading=h.yij8xaij9lcy|smart-link][https://docs.google.com/document/d/1R5G7BpvSKhT7letnz8hNSd443F3w_QXxxywm_hjIpvo/edit#heading=h.yij8xaij9lcy]]
**** TODO [#C] MAAS security doc                                  :MAAS_TEAM:                               
SCHEDULED: <2023-11-28 Tue +1d>
:PROPERTIES:
:ID:       https://warthogs.atlassian.net/browse/MAASENG-700
:TYPE:     ejira-issue
:Status:   Untriaged
:Reporter: Bill Wear
:Assignee: Bill Wear
:Issuetype: Task
:Created:  2022-07-14 21:53:26
:Modified: 2023-11-28 19:58:08
:END:
***** Description
***** Comments
****** [2022-09-08 Thu 20:58] Bill Wear
:PROPERTIES:
:CommId:   95341
:TYPE:     ejira-comment
:Author:   Bill Wear
:Created:  2022-09-08 20:58:19
:END:
security design guide
****** [2022-09-08 Thu 20:58] Bill Wear
:PROPERTIES:
:CommId:   95342
:TYPE:     ejira-comment
:Author:   Bill Wear
:Created:  2022-09-08 20:58:57
:END:
security operational guide how-to
****** [2022-09-08 Thu 21:29] Bill Wear
:PROPERTIES:
:CommId:   95391
:TYPE:     ejira-comment
:Author:   Bill Wear
:Created:  2022-09-08 21:29:54
:Modified: 2022-09-08 22:50:27
:END:
missing docs for saml documentation

[[https://bugs.launchpad.net/maas/+bug/1828162|smart-link][https://bugs.launchpad.net/maas/+bug/1828162]]

We would like to create docs for SAML, which is not documented in our system, because our users need to know how to use SAML with MAAS.
**** TODO [#C] MAAS API/CLI/SDK docs                              :MAAS_TEAM:                           
SCHEDULED: <2023-11-28 Tue +1d>
:PROPERTIES:
:ID:       https://warthogs.atlassian.net/browse/MAASENG-830
:TYPE:     ejira-issue
:Status:   Untriaged
:Reporter: Bill Wear
:Assignee: Bill Wear
:Issuetype: Task
:Created:  2022-07-18 21:32:11
:Modified: 2023-11-28 19:58:27
:END:
***** Description
***** Comments
****** [2022-09-08 Thu 19:34] Bill Wear
:PROPERTIES:
:CommId:   95207
:TYPE:     ejira-comment
:Author:   Bill Wear
:Created:  2022-09-08 19:34:54
:END:
notification service api (lxd)
****** [2022-09-08 Thu 20:35] Bill Wear
:PROPERTIES:
:CommId:   95314
:TYPE:     ejira-comment
:Author:   Bill Wear
:Created:  2022-09-08 20:35:03
:END:
api performance - paginate machines endpoint
****** [2022-09-08 Thu 21:28] Bill Wear
:PROPERTIES:
:CommId:   95389
:TYPE:     ejira-comment
:Author:   Bill Wear
:Created:  2022-09-08 21:28:47
:END:
explain ${api_host} better
****** [2022-09-08 Thu 22:12] Bill Wear
:PROPERTIES:
:CommId:   95441
:TYPE:     ejira-comment
:Author:   Bill Wear
:Created:  2022-09-08 22:12:46
:END:
MAAS SDK tutorial
****** [2022-09-08 Thu 22:13] Bill Wear
:PROPERTIES:
:CommId:   95442
:TYPE:     ejira-comment
:Author:   Bill Wear
:Created:  2022-09-08 22:13:13
:END:
spec: update MAAS SDK doc

[[https://docs.google.com/document/d/1JFQzn4p2KUAVKk3kxm8kkNDPBWSWtAmuuy-AOjHsh4Q/edit][spec is MA080]]
****** [2022-09-08 Thu 22:13] Bill Wear
:PROPERTIES:
:CommId:   95443
:TYPE:     ejira-comment
:Author:   Bill Wear
:Created:  2022-09-08 22:13:31
:END:
MAAS OpenAPI tutorial
****** [2022-09-08 Thu 22:14] Bill Wear
:PROPERTIES:
:CommId:   95444
:TYPE:     ejira-comment
:Author:   Bill Wear
:Created:  2022-09-08 22:14:14
:END:
MAAS API Authentication Documentation in cURL

[[https://bugs.launchpad.net/maas/+bug/1851711][https://bugs.launchpad.net/maas/+bug/1851711]]

We would like to extend the MAAS API documentation to cover cURL usage because our users need to use cURL in certain situations where no other method of accessing MAAS is possible.
****** [2022-09-08 Thu 22:14] Bill Wear
:PROPERTIES:
:CommId:   95446
:TYPE:     ejira-comment
:Author:   Bill Wear
:Created:  2022-09-08 22:14:41
:END:
update the CLI documentation

We would like to update the CLI documentation because multiple stakeholders need to use the CLI as the preferred interface, but the lack of documentation makes this problematic.  We would like to have parity between the CLI and UI versions of the documents, that is, have a UI command sequence for every CLI command sequence, and vice versa, because our users need to know how to do all MAAS operations in both interfaces, given that we have users/customers that rely totally on one interface or the other.
****** [2022-09-08 Thu 22:45] Bill Wear
:PROPERTIES:
:CommId:   95477
:TYPE:     ejira-comment
:Author:   Bill Wear
:Created:  2022-09-08 22:45:43
:END:
doc assistance w/MAAS OpenAPI specification
**** TODO [#C] MAAS tour and tutorials                            :MAAS_TEAM:                         
SCHEDULED: <2023-11-28 Tue +1d>
:PROPERTIES:
:ID:       https://warthogs.atlassian.net/browse/MAASENG-815
:TYPE:     ejira-issue
:Status:   Triaged
:Reporter: Bill Wear
:Assignee: Bill Wear
:Issuetype: Task
:Created:  2022-07-18 21:29:18
:Modified: 2023-11-28 19:54:19
:END:
***** Description
***** Comments
****** [2023-03-16 Thu 23:15] Bill Wear
:PROPERTIES:
:CommId:   204074
:TYPE:     ejira-comment
:Author:   Bill Wear
:Created:  2023-03-16 23:15:31
:END:
create draft of my last Tour graphic before we can start drafting a tour
**** TODO [#C] Openstack integration doc (w/peter m.)             :MAAS_TEAM:          
SCHEDULED: <2023-11-28 Tue +1d>
:PROPERTIES:
:ID:       https://warthogs.atlassian.net/browse/MAASENG-833
:TYPE:     ejira-issue
:Status:   Untriaged
:Reporter: Bill Wear
:Assignee: Bill Wear
:Issuetype: Task
:Created:  2022-07-18 21:33:05
:Modified: 2023-11-28 19:59:07
:END:
***** Description
***** Comments
**** TODO [#C] MAAS metrics doc                                   :MAAS_TEAM:                                
SCHEDULED: <2023-11-28 Tue +1d>
:PROPERTIES:
:ID:       https://warthogs.atlassian.net/browse/MAASENG-982
:TYPE:     ejira-issue
:Status:   Untriaged
:Reporter: Bill Wear
:Assignee: Bill Wear
:Issuetype: Task
:Created:  2022-09-08 19:10:02
:Modified: 2023-02-23 00:49:36
:END:
***** Description
***** Comments
****** [2022-09-08 Thu 22:19] Bill Wear
:PROPERTIES:
:CommId:   95452
:TYPE:     ejira-comment
:Author:   Bill Wear
:Created:  2022-09-08 22:19:30
:END:
work observability into the discussions

[[https://docs.google.com/document/d/16EgWCBc0yzBb-dC0wqW96PyqMvdGw24LwnDObsz26wg/edit][specification is MA046]]
**** TODO [#C] MAAS snap doc                                      :MAAS_TEAM:                                   
SCHEDULED: <2023-11-28 Tue +1d>
:PROPERTIES:
:ID:       https://warthogs.atlassian.net/browse/MAASENG-985
:TYPE:     ejira-issue
:Status:   Untriaged
:Reporter: Bill Wear
:Assignee: Bill Wear
:Issuetype: Task
:Created:  2022-09-08 19:27:35
:Modified: 2023-02-23 00:43:02
:END:
***** Description
***** Comments
****** [2022-09-08 Thu 19:28] Bill Wear
:PROPERTIES:
:CommId:   95202
:TYPE:     ejira-comment
:Author:   Bill Wear
:Created:  2022-09-08 19:28:39
:END:
postgres-less snap warnings
****** [2022-09-08 Thu 19:29] Bill Wear
:PROPERTIES:
:CommId:   95203
:TYPE:     ejira-comment
:Author:   Bill Wear
:Created:  2022-09-08 19:29:56
:Modified: 2022-09-08 22:49:38
:END:
restore documentation for snaps



[[https://bugs.launchpad.net/maas/+bug/1915937|smart-link][https://bugs.launchpad.net/maas/+bug/1915937]]

We would like to update the "restore" documentation for MAAS snaps because our users need correct instructions on this procedure, and we have not provided them.
****** [2022-09-08 Thu 19:58] Bill Wear
:PROPERTIES:
:CommId:   95239
:TYPE:     ejira-comment
:Author:   Bill Wear
:Created:  2022-09-08 19:58:08
:END:
doc snap full strict mode
****** [2022-09-08 Thu 19:58] Bill Wear
:PROPERTIES:
:CommId:   95240
:TYPE:     ejira-comment
:Author:   Bill Wear
:Created:  2022-09-08 19:58:54
:END:
doc snap downgrade
****** [2022-09-08 Thu 19:59] Bill Wear
:PROPERTIES:
:CommId:   95241
:TYPE:     ejira-comment
:Author:   Bill Wear
:Created:  2022-09-08 19:59:17
:END:
doc snap cohort
****** [2022-09-08 Thu 21:15] Bill Wear
:PROPERTIES:
:CommId:   95368
:TYPE:     ejira-comment
:Author:   Bill Wear
:Created:  2022-09-08 21:15:47
:END:
doc postgres-less snap
**** TODO [#B] MAAS on 22.04 LTS and core22 snap documentation    :MAAS_TEAM:  
SCHEDULED: <2023-11-28 Tue +1d>
:PROPERTIES:
:ID:       https://warthogs.atlassian.net/browse/MAASENG-989
:TYPE:     ejira-issue
:Status:   Triaged
:Reporter: Bill Wear
:Assignee: Bill Wear
:Issuetype: Task
:Created:  2022-09-12 19:03:53
:Modified: 2023-02-20 13:58:32
:END:
***** Description
- MAAS on 22.04 LTS and core22 snap
    - [[https://docs.google.com/document/d/1YstTlkbG8Ib0ovntW277QwtnzVNO5BQqQeWfFB8mdyE/edit][Specification]]
    - [[https://docs.google.com/document/d/1YstTlkbG8Ib0ovntW277QwtnzVNO5BQqQeWfFB8mdyE/edit#heading=h.ekbxnm9kdzzl][Spec doc section]]
    - [[https://chat.canonical.com/canonical/channels/maas-jammy-base][MM channel]]
***** Comments
****** [2022-09-12 Mon 19:51] Bill Wear
:PROPERTIES:
:CommId:   96256
:TYPE:     ejira-comment
:Author:   Bill Wear
:Created:  2022-09-12 19:51:49
:Modified: 2022-09-12 19:53:11
:END:
********* 🗒️ Note from discussions:

- build upgrade procedures into the MAAS 3.3 docs re:22.04 LTS and core22 snap
****** [2022-09-12 Mon 20:05] Bill Wear
:PROPERTIES:
:CommId:   96263
:TYPE:     ejira-comment
:Author:   Bill Wear
:Created:  2022-09-12 20:05:13
:END:
********* Stories to answer in documentation:

1. As a MAAS user, I want to be able to install MAAS on a 22.04 LTS system via deb packages.
    1. It should be possible to perform a new install of MAAS on a 22.04 LTS system via deb packages by adding the release PPA and installing MAAS packages.
    2. Acceptance criteria
        1. The PPAs (stable and next) for the 3.3 release contain MAAS packages and required dependencies for 22.04 LTS (jammy).
        2. MAAS supports versions that are jammy for dependencies.
        3. Adding the PPA to a 22.04 LTS system and running =apt install maas= installs a functional MAAS. All dependencies that are not in the archive are available in the PPA.
    3. Work items:
        4. Create a =ppa:maas/3.3-next= PPA and copy all required dependencies
        5. Update/change dependencies in =d/control= so that the package can be built/installed on jammy
2. As a MAAS user, I want to be able to upgrade machines currently running MAAS via deb packages on Ubuntu 20.04 LTS to 22.04 LTS
    4. Users currently running MAAS via deb packages on a 20.04 system need to have a path for upgrading both MAAS and the operating system.
    5. Similarly to what happened with the 18.04 -> 20.04 upgrade, this will require adding the PPA for MAAS 3.3 and performing the upgrade to Jammy with PPAs enabled, so that MAAS can also be upgraded.
    6. Acceptance criteria
        6. Upgrading a 3.2 MAAS installation based on debs on 20.04 to 22.04 also upgrades MAAs to 3.3
        7. After upgrading to 22.04, MAAS is functioning correctly
        8. There’s a documented procedure for the upgrade
    7. Work items:
        9. Test that the upgrade procedure from MAAS 3.2 on focal to 3.3 on jammy works
        10. Document the upgrade procedure
3. As a MAAS developer, I want to be able to run maas tests in a development environment on Ubuntu 22.04 LTS
    8. Since MAAS will support running on a 22.04 LTS host, development/testing also needs to happen on Jammy.
    9. Acceptance criteria
        11. The ppa:maas-committers/latest-deps PPA has packages with dependencies for 22.04
        12. The test suite passes when run on 22.04 LTS
        13. Helper scripts and tools work on 22.04 LTS
    10. Work items:
        14. Copy all required dependencies to ppa:maas-committers/latest-deps (updating packages if needed)
        15. Update code for dependencies changes
        16. Investigate and possibly address deprecations raised by updated dependencies
        17. Ensure unit tests pass locally
        18. Ensure performance tests pass locally
4. As a MAAS developer, I want tests to run in CI on Ubuntu 22.04 LTS
    11. Our CI infrastructure will need to be able to run tests for MAAS running on Ubuntu 22.04 LTS.
    12. Therefore, related jobs need to be updated to run on 22.04 LTS when the target branch is master, and later the 3.2 release branch.
    13. Acceptance criteria
        19. The branch-tester job runs on 22.04 LTS when target is master
        20. The branch-lander job runs on 22.04 LTS (not strictly required)
        21. The branch-reviewer job runs on 22.04 LTS (not strictly required)
        22. Jobs for other related projects (piston, performance tests, system-tests repo, …) run on 22.04 LTS
        23. Integration tests jobs for master run on 22.04 LTS
        24. Integration tests jobs for MAAS 3.2 run on 22.04 LTS
        25. Curtin/Cloud-init proposed SRU jobs run on 22.04 LTS
        26. Jobs for other related projects run on 22.04 LTS (not strictly required)
    14. Work items:
        27. Update branch-lander and branch-reviewer to run on 22.04
        28. Update jobs for other related projects to run on 22.04
5. As a MAAS developer, I want the maas snap to use the same dependencies versions as the deb
    15. The snap needs to be updated to be based on the core22 base, to match dependencies with the deb.
    16. This spec has some info on changes in the snapcraft format:ST031 - core20 to core22 migration guide
    17. Acceptance criteria
        29. The maas snap is based on the core22 base
        30. MAAS runs correctly when installed from the snap
        31. Upgrading a 3.2 snap-based MAAS install to 3.3 works
    18. Work items
        32. Update snap configuration to core22 base and snapcraft 7.0 format
        33. Verify that the snap build on LP works
        34. Investigate if we can move to declare the PPA as a build dependency in snapcraft.yaml instead of the LP recipe.
        35. Verify that MAAS services and applications run correctly in the snap
6. As a MAAS developer, I want the maas-test-db snap to be based on core22
    19. To align the maas-test-db snap for MAAS 3.3 with the MAAS snap itself, we want it to be based on core22
    20. Acceptance criteria
        36. The maas-test-db snap is based on the core22 base
        37. The Postgresql version in the snap matches the one in Ubuntu 22.04 LTS (14.2)
        38. PostgreSQL runs correctly inside the snap
    21. Work items
        39. Update the snap configuration to core22 base and snapcraft 7.0 format
        40. Bump snap epoch (to avoid accidental upgrades between major versions
        41. Update Postgres version in the snap to 14.2
        42. Verify that the snap build on LP works
        43. Verify that Postgres works correctly in the snap
7. As a MAAS developer, I want to be able to run MAAS tests on the Ubuntu development release, to identify breaking changes early
    22. CI should run a periodic job to test MAAS against the development version of Ubuntu.
    23. This will let us find deprecations and breaking changes early, rather than in a big jump between LTS releases, and progressively work on fixes for those.
    24. Acceptance criteria
        44. The ppa:maas-committers/latest-deps PPA has packages with dependencies for the Ubuntu development release
        45. There is a CI job that runs unittest periodically on the development release, using dependencies from the latest-deps PPA
    25. Work items:
        46. Add dependencies packages for the development Ubuntu release to the latest-deps PPA
        47. Add a CI job to run unit tests on the Ubuntu development release
        48. Investigate how to handle cases where we can’t backport changes needed for the development release to master
****** [2022-09-12 Mon 20:06] Bill Wear
:PROPERTIES:
:CommId:   96264
:TYPE:     ejira-comment
:Author:   Bill Wear
:Created:  2022-09-12 20:06:01
:Modified: 2022-09-12 20:06:21
:END:
********* Engineering documentation/notes provided:

When we have a working Beta, the upgrade doc can be drafted, as follows:

- deb upgrade steps (once 3.3 will be actually released)
    - apt update
    - apt full-upgrade
    - apt-add-repository -y ppa:maas/3.3 (or 3.3-next)
    - do-release-upgrade –allow-third-party

Will need to communicate that [[https://discourse.maas.io/t/md3-postgresql-version-older-than-14-are-deprecated/6216][+PostgreSQL 12 is deprecated+]] and explain how/when to upgrade PostgreSQL.  Again, can work on this when we have a Beta to play with.
****** [2022-09-12 Mon 20:17] Bill Wear
:PROPERTIES:
:CommId:   96265
:TYPE:     ejira-comment
:Author:   Bill Wear
:Created:  2022-09-12 20:17:23
:END:
********* Doc notes from MM channel discussions

1. WRT deprecation of PostgreSQL 12 in favor of 14, I need to:
    1. Ensure that the deprecation notices are clear and visible in the Release Notes.
    2. Ensure that the deprecation notices are clear and visible in the relevant doc (list TBD).
    3. Discuss deprecation of v12 wrt non-Ubuntu operating systems.
2. Verify that snap changes work or not (talk to [~accountid:70121:01ef6e96-df1a-4807-b371-05fe067d0f61]).
****** [2022-09-14 Wed 21:23] Bill Wear
:PROPERTIES:
:CommId:   97197
:TYPE:     ejira-comment
:Author:   Bill Wear
:Created:  2022-09-14 21:23:23
:END:
********* mind map from user stories

!22.04-lts-and-core-22-snap.jpeg|width=2186,height=1219!
****** [2022-09-14 Wed 21:33] Bill Wear
:PROPERTIES:
:CommId:   97201
:TYPE:     ejira-comment
:Author:   Bill Wear
:Created:  2022-09-14 21:33:36
:Modified: 2022-09-14 21:57:39
:END:
********* thoughts on doc placement

There are really only a few small doc changes here:

1. Highlighting the deprecation of PostgreSQL 12, which should go in the [[https://warthogs.atlassian.net/browse/https://warthogs.atlassian.net/browse/MAASENG-1007][3.3 Release notes]].
2. The 3.3 upgrade (with Jammy upgrade), which also goes in the [[https://warthogs.atlassian.net/browse/https://warthogs.atlassian.net/browse/MAASENG-1007][3.3 Release notes]].
3. Duplicating the 3.3 upgrade instructions in the 3.3 version of the Installation page.
4. PostgreSQL 14 upgrade instructions (still TBD as of this writing) will also be in the [[https://warthogs.atlassian.net/browse/https://warthogs.atlassian.net/browse/MAASENG-1007][3.3 Release notes]]).
****** [2022-09-14 Wed 21:34] Bill Wear
:PROPERTIES:
:CommId:   97202
:TYPE:     ejira-comment
:Author:   Bill Wear
:Created:  2022-09-14 21:34:30
:Modified: 2022-09-14 21:43:43
:END:
******** Proposed text changes

The following changes are proposed the MAAS documents.

********* Upgrade procedures

Upgrade procedures are drafted in the [[https://warthogs.atlassian.net/browse/https://warthogs.atlassian.net/browse/MAASENG-1007][Jira card for the 3.3 release notes]].

This same text will be included in the Installation instructions for MAAS 3.3.

********* PostgreSQL 12 deprecation notice

The PostgreSQL 12 deprecation noticed is drafted in the [[https://warthogs.atlassian.net/browse/https://warthogs.atlassian.net/browse/MAASENG-1007][Jira card for the 3.3 release notes]].
****** [2022-09-21 Wed 17:47] Bill Wear
:PROPERTIES:
:CommId:   99339
:TYPE:     ejira-comment
:Author:   Bill Wear
:Created:  2022-09-21 17:47:42
:END:
I'm able to add this to the release notes and 3.3 version of the installation guide at this point.  that's a next step.
**** TODO [#C] MAAS PXE/TFTP/HTTP booting & BMC doc               :MAAS_TEAM:            
SCHEDULED: <2023-11-28 Tue +1d>
:PROPERTIES:
:ID:       https://warthogs.atlassian.net/browse/MAASENG-987
:TYPE:     ejira-issue
:Status:   Untriaged
:Reporter: Bill Wear
:Assignee: Bill Wear
:Issuetype: Task
:Created:  2022-09-08 19:54:24
:Modified: 2023-11-28 19:58:47
:END:
***** Description
***** Comments
****** [2022-09-08 Thu 19:55] Bill Wear
:PROPERTIES:
:CommId:   95235
:TYPE:     ejira-comment
:Author:   Bill Wear
:Created:  2022-09-08 19:55:28
:END:
eliminate invisible plurals
****** [2022-09-08 Thu 19:55] Bill Wear
:PROPERTIES:
:CommId:   95236
:TYPE:     ejira-comment
:Author:   Bill Wear
:Created:  2022-09-08 19:55:52
:END:
eliminate invisible plurals
****** [2022-09-08 Thu 19:56] Bill Wear
:PROPERTIES:
:CommId:   95237
:TYPE:     ejira-comment
:Author:   Bill Wear
:Created:  2022-09-08 19:56:17
:END:
all-or-nothing uefi warning?
****** [2022-09-08 Thu 20:55] Bill Wear
:PROPERTIES:
:CommId:   95336
:TYPE:     ejira-comment
:Author:   Bill Wear
:Created:  2022-09-08 20:55:29
:END:
improve ui network-discovery
****** [2022-09-08 Thu 20:55] Bill Wear
:PROPERTIES:
:CommId:   95337
:TYPE:     ejira-comment
:Author:   Bill Wear
:Created:  2022-09-08 20:55:47
:END:
registration v. enlistment
****** [2022-09-08 Thu 20:56] Bill Wear
:PROPERTIES:
:CommId:   95338
:TYPE:     ejira-comment
:Author:   Bill Wear
:Created:  2022-09-08 20:56:06
:END:
look for three other bmc sources on the web
****** [2022-09-08 Thu 20:56] Bill Wear
:PROPERTIES:
:CommId:   95339
:TYPE:     ejira-comment
:Author:   Bill Wear
:Created:  2022-09-08 20:56:23
:END:
bmc section ambiguous
****** [2022-09-08 Thu 20:56] Bill Wear
:PROPERTIES:
:CommId:   95340
:TYPE:     ejira-comment
:Author:   Bill Wear
:Created:  2022-09-08 20:56:42
:END:
bmc enlistment contradiction
**** TODO [#C] Documentation missing "How to configure external DHCP" :MAAS_TEAM: 
SCHEDULED: <2023-11-28 Tue +1d>
:PROPERTIES:
:ID:       https://warthogs.atlassian.net/browse/MAASENG-1503
:TYPE:     ejira-issue
:Status:   Untriaged
:Reporter: Anton Troyanov
:Assignee: Bill Wear
:Issuetype: Bug
:Created:  2023-03-24 07:34:13
:Modified: 2023-03-24 07:34:13
:END:
***** Description
On the documentation page about DHCP [[https://maas.io/docs/how-to-enable-dhcp|smart-link][https://maas.io/docs/how-to-enable-dhcp]] there is an anchor link pointing to a non-existing content.

=https://maas.io/docs/how-to-enable-dhcp#heading--external-dhcp-and-a-reserved-ip-range=
***** Comments
**** TODO [#C] MAAS Juju docs                                     :MAAS_TEAM:                                  
SCHEDULED: <2023-11-28 Tue +1d>
:PROPERTIES:
:ID:       https://warthogs.atlassian.net/browse/MAASENG-109
:TYPE:     ejira-issue
:Status:   Untriaged
:Reporter: Bill Wear
:Assignee: Bill Wear
:Issuetype: Task
:Created:  2021-12-01 22:21:10
:Modified: 2023-11-28 19:57:51
:END:
***** Description
[[https://bugs.launchpad.net/maas/+bug/1308803][https://bugs.launchpad.net/maas/+bug/1308803]]

We would like to update the MAAS Juju documentation to cover the full life-cycle because our users need to see (at a glance) how to use Juju with MAAS, and more importantly, why Juju with MAAS has technical value to developers.
***** Comments
**** TODO [#B] Nvidia DPU (SmartNIC deployment MVP) + OPI documentation :MAAS_TEAM: 
SCHEDULED: <2023-11-28 Tue +1d>
:PROPERTIES:
:ID:       https://warthogs.atlassian.net/browse/MAASENG-988
:TYPE:     ejira-subtask
:Status:   Untriaged
:Reporter: Bill Wear
:Assignee: Bill Wear
:Issuetype: Sub-task
:Created:  2022-09-12 19:03:35
:Modified: 2023-10-02 15:16:08
:END:
***** Description
- Nvidia DPU (SmartNIC deployment MVP) + OPI
  ** [[https://docs.google.com/document/d/1m5zKgl2fah97Eku4IcQx1HDkt2t0TQUqof4M-DYvFi4/edit][Specification]]
  ** [[https://docs.google.com/document/d/1m5zKgl2fah97Eku4IcQx1HDkt2t0TQUqof4M-DYvFi4/edit#heading=h.qyg7xmvm3sbb][Spec doc section]]
  ** [[https://chat.canonical.com/canonical/channels/maas-dpu][MM channel]]
[2022-09-21 Wed 12:25]
***** Comments
****** [2022-09-12 Mon 21:36] Bill Wear
:PROPERTIES:
:CommId:   96285
:TYPE:     ejira-comment
:Author:   Bill Wear
:Created:  2022-09-12 21:36:46
:END:
********* Stories to be addressed by the documentation

1. As a MAAS Admin, I want to enlist a DPU in MAAS
    1. If a machine has a DPU, we want to identify it and enlist as a machine, so we can network boot and configure it later.
    2. In this story the DPU and the host are treated as two separate machines and there is no relationship between them in MAAS. Power management of the DPU will be Manual. The admin has to manually arrange for the DPU to do the network boot (given Bluefield 2 devices have no BMC).
    3. Acceptance criteria
        1. If a DPU network boots on a MAAS network, it runs all commissioning scripts successfully and is added as a regular machine in MAAS
        2. I can deploy Ubuntu to a DPU with a custom network configuration
        3. Network and storage configuration are reported correctly
        4. Check that only allowed actions are available for the DPU (since we treat DPU as machine)
        5. An enlisted DPU has the “dpu” tag set
    4. Notes:
        6. Platform devices don't show up when commissioning with Focal. With Jammy everything works well. Expected to be fine for 3.3
2. As a MAAS admin, I want to use the linux-bluefield kernel when commissioning and deploying
    5. We need to support custom OS images, but the current process requires manual BFB image creation (using a custom kernel).
    6. Acceptance criteria
        7. When a Bluefield DPU is commissioned following the documentation, all the network ports (inc. management port) are shown in MAAS
        8. A Bluefield DPU can be identified as such (e.g. via sub-architecture)
    7. Work items:
        9. Provide a Packer template for a custom Ubuntu image using linux-bluefield kernel
        10. Provide documentation on how to make an image / kernel that can be used for Bluefield DPUs
        11. Add arm64/bluefield2 as a subarchitecture
        12. While we're at it, we should add a subarchitecture for raspberry pi as well, so it’s possible to use the raspberry pi kernel
    8. Notes:
        13. To fully use a DPU, one should use linux-bluefield kernel and DOCA libraries installed. Is it just for Focal or will the Kernel team maintain this for Jammy?
        14. Similar to a Pi maybe - some things will work but not everything.
        15. What differences are there in the image besides the kernel? Ubuntu-server + linux-bluefield or NVidia produced image.
        16. Suspect vanilla Ubuntu Server for the starting point - meshes well with consumers of MAAS e.g. Juju.
        17. Enlist and (enlist-commission) as generic arm64; then set sub-arch to bluefield and Commission which will use the special kernel + associated packages.
        18. Focal: generic + drivers - main ports work (don't see management port). NVidia's kernel + drivers work (see main ports and management port)
        19. linux-bluefield in focal-updates doesn't include drivers for the DPU so you lose networking
    9. Questions:
        20. What does Kernel team suggest we use for commissioning Bluefield?
        21. What about OVS packages? Nvidia repo or Jammy?
        22. Why do we have a special image for Bluefield? What should we use?
3. As a MAAS admin, I want to be able to deploy or commission a DPU without having to manually turn on the host
    10. The DPU gets its power from the host. If the host is powered off, the DPU can’t start.
    11. If someone chooses to commission or deploy a DPU, MAAS should know that it’s connected to a host, and the host needs to be powered on, before the DPU can be powered on. The same way, when the DPU is to be turned off, the host might need to be turned off.
    12. Acceptance criteria
        23. During commissioning of the DPU the host will be powered on automatically in case if it was powered off
        24. DPU commissioning cannot happen at the same time as host commissioning
        25. When DPU commissioning is completed, host should be turned off
        26. There should be a clear parent child relationship between the host and the DPU in the machine list and machine details page
    13. Notes
        27. For MVP should we just assume that we always lifecycle the host and the DPUs at the same time? If not, how do we release a DPU to an 'OOTB' state?
        28. Easier to model them as separate devices in MAAS, even if we ask users to always lifecycle them in tandem (cooperatively).
        29. Assume connectivity from the host to MAAS outside the path of the DPU
4. As a Juju Operator, I want to be able to deploy a juju agent to both the host and DPU in one go
    14. Juju needs to know that a machine has a DPU and have a way of telling MAAS to deploy both the host and the DPU in one go.
    15. The DPU needs to be deployed before the host. But given that the host needs to be up for the DPU to be deployed, we probably need to start deploying the host, then stop and deploy the DPU, and then finish deploying the host.
    16. Acceptance criteria
        30. In the API, there’s information about which host a DPU belongs to
        31. In the API, there’s information about which DPUs a host has
    17. Work items:
        32. Store the card serial numbers exposed by NICs
        33. Model DPU-Machine as parent-child relationship using the serial numbers of the NICs (should be the same for the host and DPU)
        34. Possibility to set dependent deployment or specify one machine being dependent on DPU.
        35. When deploying a host and a DPU, boot up in an ephemeral environment, deploy the DPU, reboot the host, continue with deploying the host, and then reboot to finalise the deployment.
5. As a MAAS admin, I want to be able to identify child-parent relationships between machines in the Machine List
    18. There are several child-parent relationships between machines in MAAS. DPU-host is another example.
    19. User Story 4 already exposes the relations between DPUs and hosts in the API.
    20. Acceptance criteria
        36. The machine list shows if a machine is part of a child-parent relation both in the CLI and the UI.
        37. In Machine Details, the Host field is always filled when applicable and leads to the host machine details.
    21. Work items:
        38. Design the best way to expose the child-parent relation in a machine table row.
****** [2022-09-12 Mon 22:37] Bill Wear
:PROPERTIES:
:CommId:   96292
:TYPE:     ejira-comment
:Author:   Bill Wear
:Created:  2022-09-12 22:37:09
:END:
********* How this maps out (lots of questions)

!MAAS DPU doc.jpeg|width=3050,height=900!
****** [2022-09-12 Mon 22:45] Bill Wear
:PROPERTIES:
:CommId:   96293
:TYPE:     ejira-comment
:Author:   Bill Wear
:Created:  2022-09-12 22:45:13
:END:
parsed the spec and built a rough list of questions for [~accountid:62134148ba649b006aab7dfa] for tomorrow.
****** [2022-09-21 Wed 17:42] Bill Wear
:PROPERTIES:
:CommId:   99336
:TYPE:     ejira-comment
:Author:   Bill Wear
:Created:  2022-09-21 17:42:42
:END:
After discussion, it's not useful to write documentation for this; instead, we'll handle it with a forward-looking blog post after release.
*** TODO [#C] high-level overview of new features                 :MAAS_TEAM:
SCHEDULED: <2023-11-28 Tue +1d>
:PROPERTIES:
:ID:       https://warthogs.atlassian.net/browse/MAASENG-1946
:TYPE:     ejira-subtask
:Status:   In Review
:Reporter: Bill Wear
:Assignee: Bill Wear
:Issuetype: Sub-task
:Created:  2023-07-05 18:28:51
:Modified: 2023-07-18 14:30:10
:END:
**** Description
******* Draft of improved release notes feature descriptions, for team review

These are release-notes-level blurbs about the MAAS 3.4 features.  This is the first step in improving the feature doc for 3.4 in real time.  Please review and feel free to comment and/or edit inline.
**** Comments

**** TODO [#C] CHANGE 5240 LOGGING FOR 3.5 (SYSLOGD CHANGE)       :MAAS_TEAM:    
SCHEDULED: <2023-11-28 Tue +1d>
:PROPERTIES:
:ID:       https://warthogs.atlassian.net/browse/MAASENG-2453
:TYPE:     ejira-issue
:Status:   Untriaged
:Reporter: Bill Wear
:Assignee: Bill Wear
:Issuetype: Task
:Created:  2023-11-28 19:45:07
:Modified: 2023-11-28 19:45:07
:END:
***** Description
***** Comments
***** DONE meet with Eline to understand 3.5 logging architecture :MAAS_TEAM:
SCHEDULED: <2023-11-30 Thu 09:00-09:30>
:LOGBOOK:
CLOCK: [2023-11-30 Thu 09:00]--[2023-11-30 Thu 09:30] =>  0:30
:END:
**** TODO [#C] FORCE A COMPATIBILITY MATRIX OUT OF THE TEAM       :MAAS_TEAM:    
SCHEDULED: <2023-11-28 Tue +1d>
:PROPERTIES:
:ID:       https://warthogs.atlassian.net/browse/MAASENG-2451
:TYPE:     ejira-issue
:Status:   Untriaged
:Reporter: Bill Wear
:Assignee: Bill Wear
:Issuetype: Task
:Created:  2023-11-28 19:44:37
:Modified: 2023-11-28 19:44:37
:END:
***** Description
***** Comments
***** DONE meet with jack and stamatis on their work              :MAAS_TEAM:
SCHEDULED: <2023-11-30 Thu 10:00-10:30>
:LOGBOOK:
CLOCK: [2023-11-30 Thu 10:00]--[2023-11-30 Thu 10:30] =>  0:30
:END:
**** TODO [#C] TERRAFORM COMPABILITY MATRIX                       :MAAS_TEAM:                    
SCHEDULED: <2023-11-28 Tue +1d>
:PROPERTIES:
:ID:       https://warthogs.atlassian.net/browse/MAASENG-2452
:TYPE:     ejira-issue
:Status:   Untriaged
:Reporter: Bill Wear
:Assignee: Bill Wear
:Issuetype: Task
:Created:  2023-11-28 19:44:50
:Modified: 2023-11-28 19:44:50
:END:
***** Description
***** Comments
**** TODO [#C] MAAS Site Manager                                  :MAAS_TEAM:                             
SCHEDULED: <2023-11-28 Tue +1d>
:PROPERTIES:
:ID:       https://warthogs.atlassian.net/browse/MAASENG-1953
:TYPE:     ejira-issue
:Status:   Triaged
:Reporter: Bill Wear
:Assignee: Bill Wear
:Issuetype: Task
:Created:  2023-07-05 20:28:23
:Modified: 2023-07-05 20:30:15
:END:
****** Description
****** Comments
***** TODO [#C] Create preliminary internal and external documentation for MSM user management interface 
SCHEDULED: <2023-11-28 Tue +1d>
:PROPERTIES:
:ID:       https://warthogs.atlassian.net/browse/MAASENG-1900
:TYPE:     ejira-issue
:Status:   In Review
:Reporter: Bill Wear
:Assignee: Bill Wear
:Issuetype: Task
:Created:  2023-06-27 23:12:51
:Modified: 2023-06-27 23:13:31
:END:
******* Description
******* Comments
**** TODO [#D] Simultaneous machine deployments - reliability improvements doc :MAAS_TEAM: 
SCHEDULED: <2023-11-28 Tue +1d>
:PROPERTIES:
:ID:       https://warthogs.atlassian.net/browse/MAASENG-992
:TYPE:     ejira-subtask
:Status:   Untriaged
:Reporter: Bill Wear
:Assignee: Bill Wear
:Issuetype: Sub-task
:Created:  2022-09-12 19:04:59
:Modified: 2023-07-05 20:29:04
:END:
***** Description
- Simultaneous machine deployments - reliability improvements
    - [[https://docs.google.com/document/d/174tAfdZ12-s1lcrzAeqyMdLRQz03jHItFanfOzJobn8/edit][Specification]]
    - [[https://docs.google.com/document/d/174tAfdZ12-s1lcrzAeqyMdLRQz03jHItFanfOzJobn8/edit#heading=h.3j4d7qnwr2k7][Spec doc section]]
    - [[https://chat.canonical.com/canonical/channels/maas-simultaneous-deployments][MM channel]]
***** Comments
****** [2022-09-12 Mon 20:43] Bill Wear
:PROPERTIES:
:CommId:   96273
:TYPE:     ejira-comment
:Author:   Bill Wear
:Created:  2022-09-12 20:43:05
:Modified: 2022-09-12 20:57:20
:END:
********* Stories to be addressed by documentation

1. As a MAAS operator, I want to deploy many machines and have them all deploy reliably
    1. Currently when selecting and deploying a large number (around 30 or more)  of machines at the same time in the UI, not all will transition to Deploying. Some will end up in a Failed Deployment state without the machines even being turned on.
    2. This story is to make sure that all machines will transition to Deploying, and eventually Deployed. It’s OK if it takes a while to get there. The most important thing is not to error out for no good reason.
    3. Acceptance Criteria
        1. MAAS can deploy large amounts of machines simultaneously
    4. Work Items
        2. Add system tests for deploying a large amount of machines simultaneously
        3. Investigate using mock machines
        4. Provide metrics around the failure points being addressed to count failures
2. As a MAAS operator, when I deploy many machines, I want MAAS to allocate IPs in bulk
    5. As machines receive a lease from dhcpd, dhcpd sends a report of the lease to MAAS. From there, the Rack Controller’s LeaseSocketService processes the message and sends it to the Region Controller via RPC. Currently, there is a lock when handling this, allowing some machines to allocate IPs, but some may timeout waiting. We can circumvent this issue by queuing up lease reports in the Rack Controller and processing a batch of leases rather than individual reports as we receive them. This queue would be part of the LeaseSocketService, and make a single RPC call when flushing the queue.
    6. Similarly, when MAAS is responsible for allocating the IP, there is a Postgres advisory lock creating contention for IPs. This lock is currently in place to prevent allocating the same IP concurrently, however we can also accomplish this while reducing contention by allocating IPs in bulk in a given request.  In this case, we would need to modify how MAAS attempts to create StaticIPAddress’s such that MAAS will hit the lock only to allocate a set of IPs.
    7. Acceptance Criteria
        5. We track the latency of reporting a single lease over the LeaseSocketService
        6. We track the latency of reporting 100 leases over the LeaseSocketService
        7. We track the latency of reporting 1000 leases over the LeaseSocketService
        8. MAAS allocates IPs for machines in bulk (not from a DHCP standpoint, but in the data layer)
    8. Work Items
        9. Add performance tests testing lease reporting before changes to IP allocation
        10. Add graphs to the performance test dashboard
        11. Provide before and after the change test results
        12. Modify MAAS’ handling of LeaseSocketService’s messages to queue up leases and allocate in a batch, with a timer to flush the queue when less than the batch size has been received
        13. Modify MAAS’ StaticIPAddress allocation behaviour to attempt multiple allocations in a single transaction
3. As a MAAS operator, when I deploy many machines, I want DNS updates to interrupt answering queries as minimally as possible
    9. As machines receive a lease, MAAS creates a new DNS entry for them. This causes BIND to reload on each record update. While BIND stays online when updating, it locks internally and many successive updates can overload BIND. While handling IP allocation in bulk will assist with this as well, we can further optimise this by queuing the updates to BIND specifically and sending an update of many records and many zones using nsupdate.  Nsupdate is a cli tool packaged with BIND for dynamic updates.  MAAS will serialize changes to its set of records for a given batch to a call to nsupdate in nsupdate’s DSL format of “update <add/delete> <name> <ttl> <rtype> <answer>”. The “send” command then transactionally commits all updates, all the while, BIND continues to answer queries. The command nsupdate should prevent these reloads, though this command is specific to record updates and not full zones or other configuration.
    10. Acceptance Criteria
        14. We track the time it takes to update BIND with a new record
        15. We track the time it takes to update BIND with 100 new records
        16. We track the time it takes to update BIND with 1000 new records
        17. We test that BIND can answer queries while receiving these updates
        18. MAAS queues DNS updates for BIND’s reload
    11. Work Items
        19. Add performance tests testing updating BIND with new records
        20. Add tests asserting BIND can answer queries while receiving these updates
        21. Add graphs to the performance test dashboard
        22. Provide before and after the change test results
        23. In the provisioningserver portion of the DNS code, queue BIND updates
        24. Update DNS records in BIND using nsupdate
4. As a MAAS operator, when I deploy many machines, I want the RPC connection pool to not get exhausted, such that calls do not timeout waiting for a connection
    12. When observing the simultaneous deployment of many machines, one can see tracebacks regarding no RPC connections available currently. While the previously mentioned batch processing of lease reports will assist in addressing this issue, we will modify MAAS’ RPC connection pool to have its standard number of connections at idle, but be able to “burst” to add more connections.
    13. Acceptance Criteria
        25. When many machines are deploying, there are no “NoConnectionAvailable” exceptions raised
        26. The “burst” limit is lower than the system limits to avoid file descriptor exhaustion
        27. The “burst” connections are closed when inactive
    14. Work Items
        28. Modify maasserver/rpc/regionservice.py:RegionService._getConnectionFor() to allocate new connections when under the “burst limit”
        29. Close “burst” connections when there’s no waiting clients and calls going over that connection have finished
****** [2022-09-21 Wed 17:50] Bill Wear
:PROPERTIES:
:CommId:   99341
:TYPE:     ejira-comment
:Author:   Bill Wear
:Created:  2022-09-21 17:50:23
:END:
This one is clearly to early in its development cycle for me to write much.  prolly need to schedule a half-hour with Christian to see what can be said now.
*** TODO [#C] MAAS architecture and life-cycle doc (ongoing)      :MAAS_TEAM:
SCHEDULED: <2023-11-28 Tue +1d>
:PROPERTIES:
:ID:       https://warthogs.atlassian.net/browse/MAASENG-698
:TYPE:     ejira-issue
:Status:   Triaged
:Reporter: Bill Wear
:Assignee: Bill Wear
:Issuetype: Task
:Created:  2022-07-14 21:48:40
:Modified: 2023-11-28 19:56:12
:END:
**** Description
**** Comments
***** [2022-09-08 Thu 21:00] Bill Wear
:PROPERTIES:
:CommId:   95345
:TYPE:     ejira-comment
:Author:   Bill Wear
:Created:  2022-09-08 21:00:25
:END:
system architecture graphic
***** [2022-09-08 Thu 21:01] Bill Wear
:PROPERTIES:
:CommId:   95346
:TYPE:     ejira-comment
:Author:   Bill Wear
:Created:  2022-09-08 21:01:09
:END:
consider an overview graphic that walks the system through its states
***** [2022-09-08 Thu 21:02] Bill Wear
:PROPERTIES:
:CommId:   95347
:TYPE:     ejira-comment
:Author:   Bill Wear
:Created:  2022-09-08 21:02:22
:END:
walk users through enlist/comm/test/deploy as MAAS operations
***** [2022-09-08 Thu 21:02] Bill Wear
:PROPERTIES:
:CommId:   95348
:TYPE:     ejira-comment
:Author:   Bill Wear
:Created:  2022-09-08 21:02:38
:END:
express lifecycle as a usage cycle diagram
***** [2022-09-08 Thu 21:03] Bill Wear
:PROPERTIES:
:CommId:   95349
:TYPE:     ejira-comment
:Author:   Bill Wear
:Created:  2022-09-08 21:03:00
:END:
explain state triggers
***** [2022-09-08 Thu 21:03] Bill Wear
:PROPERTIES:
:CommId:   95350
:TYPE:     ejira-comment
:Author:   Bill Wear
:Created:  2022-09-08 21:03:29
:END:
document maas multiprocess architecture
***** [2022-09-08 Thu 21:03] Bill Wear
:PROPERTIES:
:CommId:   95351
:TYPE:     ejira-comment
:Author:   Bill Wear
:Created:  2022-09-08 21:03:38
:END:
document maas multiprocess architecture
***** [2022-09-08 Thu 21:04] Bill Wear
:PROPERTIES:
:CommId:   95352
:TYPE:     ejira-comment
:Author:   Bill Wear
:Created:  2022-09-08 21:04:00
:END:
do something with blake's architecture doc
***** [2022-09-08 Thu 22:44] Bill Wear
:PROPERTIES:
:CommId:   95476
:TYPE:     ejira-comment
:Author:   Bill Wear
:Created:  2022-09-08 22:44:41
:END:
spec: improve MAAS architecture doc
***** [2022-09-08 Thu 22:55] Bill Wear
:PROPERTIES:
:CommId:   95485
:TYPE:     ejira-comment
:Author:   Bill Wear
:Created:  2022-09-08 22:55:07
:END:
“Theory of operation” for machine state changes

[[https://discourse.maas.io/t/theory-of-operation-for-machine-state-changes/5050|smart-link][https://discourse.maas.io/t/theory-of-operation-for-machine-state-changes/5050]]

#+BEGIN_QUOTE
  We would like to lay out the theory of operation for machine state changes in some detail because multiple stakeholders need to know which state transitions are possible, and how & why to transition machines between those states in the most efficient way.  Rationalize the existing docs & drawings against this request & fix if needed.
#+END_QUOTE
**** TODO [#C] START DIAGRAMMING DATA CENTRE HARDWARE ARCHITECTURES :MAAS_TEAM: 
SCHEDULED: <2023-11-28 Tue +1d>
:PROPERTIES:
:ID:       https://warthogs.atlassian.net/browse/MAASENG-2449
:TYPE:     ejira-issue
:Status:   Untriaged
:Reporter: Bill Wear
:Assignee: Bill Wear
:Issuetype: Task
:Created:  2023-11-28 19:44:06
:Modified: 2023-11-28 19:44:06
:END:
***** Description
***** Comments
**** TODO [#C] MODEL DATA CENTRE REBOOTS, WITH VAR MAAS ARCHITECTURES :MAAS_TEAM: 
SCHEDULED: <2023-11-28 Tue +1d>
:PROPERTIES:
:ID:       https://warthogs.atlassian.net/browse/MAASENG-2450
:TYPE:     ejira-issue
:Status:   Untriaged
:Reporter: Bill Wear
:Assignee: Bill Wear
:Issuetype: Task
:Created:  2023-11-28 19:44:21
:Modified: 2023-11-28 19:44:21
:END:
***** Description
***** Comments
*** TODO [#C] Spec Guardian activities                            :MAAS_TEAM:                        
SCHEDULED: <2023-11-28 Tue +1d>
:PROPERTIES:
:ID:       https://warthogs.atlassian.net/browse/MAASENG-1949
:TYPE:     ejira-issue
:Status:   Triaged
:Reporter: Bill Wear
:Assignee: Bill Wear
:Issuetype: Task
:Created:  2023-07-05 20:26:48
:Modified: 2023-11-28 20:02:32
:END:
***** Description
***** Comments
*** TODO [#C] Create spec for FIPS OS deployment                  :MAAS_TEAM:             
SCHEDULED: <2023-11-28 Tue +1d>
:PROPERTIES:
:ID:       https://warthogs.atlassian.net/browse/MAASENG-2271
:TYPE:     ejira-issue
:Status:   In Review
:Reporter: Bill Wear
:Assignee: Bill Wear
:Issuetype: Task
:Created:  2023-10-11 23:03:43
:Modified: 2023-10-11 23:03:43
:END:
**** Description
Spec done, in executive review ATM
**** Comments
*** TODO [#C] Community building                                  :MAAS_TEAM:                           
SCHEDULED: <2023-11-28 Tue +1d>
:PROPERTIES:
:ID:       https://warthogs.atlassian.net/browse/MAASENG-1950
:TYPE:     ejira-issue
:Status:   Triaged
:Reporter: Bill Wear
:Assignee: Bill Wear
:Issuetype: Task
:Created:  2023-07-05 20:27:05
:Modified: 2023-11-28 20:02:44
:END:
***** Description
***** Comments
*** TODO [#C] move discourse stats into grafana                   :MAAS_TEAM:             
SCHEDULED: <2023-11-28 Tue +1d>
:PROPERTIES:
:ID:       https://warthogs.atlassian.net/browse/MAASENG-2289
:TYPE:     ejira-issue
:Status:   BLOCKED
:Reporter: Bill Wear
:Assignee: Bill Wear
:Issuetype: Task
:Created:  2023-10-17 14:33:52
:Modified: 2023-10-23 22:41:04
:END:
**** Description
**** Comments
***** [2023-10-17 Tue 14:35] Bill Wear
:PROPERTIES:
:CommId:   326730
:TYPE:     ejira-comment
:Author:   Bill Wear
:Created:  2023-10-17 14:35:46
:END:
just took this one, no ideas, will have to learn a bit.
*** TODO [#C] Discourse review & answers                          :MAAS_TEAM:                    
SCHEDULED: <2023-11-28 Tue +1d>
:PROPERTIES:
:ID:       https://warthogs.atlassian.net/browse/MAASENG-1948
:TYPE:     ejira-issue
:Status:   Triaged
:Reporter: Bill Wear
:Assignee: Bill Wear
:Issuetype: Task
:Created:  2023-07-05 20:26:17
:Modified: 2023-11-28 20:02:21
:END:
***** Description
***** Comments
*** TODO [#C] PM support                                          :MAAS_TEAM:                           
SCHEDULED: <2023-11-28 Tue +1d>
:PROPERTIES:
:ID:       https://warthogs.atlassian.net/browse/MAASENG-1951
:TYPE:     ejira-issue
:Status:   Triaged
:Reporter: Bill Wear
:Assignee: Bill Wear
:Issuetype: Task
:Created:  2023-07-05 20:27:25
:Modified: 2023-11-28 20:02:56
:END:
***** Description
***** Comments
**** TODO [#C] Participate in outreach with PM                    :MAAS_TEAM:                
SCHEDULED: <2023-11-28 Tue +1d>
:PROPERTIES:
:ID:       https://warthogs.atlassian.net/browse/MAASENG-160
:TYPE:     ejira-issue
:Status:   Untriaged
:Reporter: Bill Wear
:Assignee: Bill Wear
:Issuetype: Task
:Created:  2022-01-12 22:02:22
:Modified: 2023-11-28 19:55:02
:END:
***** Description
Ties into Marketing OKR for 2022
***** Comments
****** [2022-01-13 Thu 09:47] Anton Smith
:PROPERTIES:
:CommId:   33034
:TYPE:     ejira-comment
:Author:   Anton Smith
:Created:  2022-01-13 09:47:09
:END:
I think 1 blog per week is a bit too ambitious and is not part of the content plan. Can we reduce this to e.g. 1 per month? I’m worried it will detract from the other work.
****** [2022-01-13 Thu 15:15] Bill Wear
:PROPERTIES:
:CommId:   33088
:TYPE:     ejira-comment
:Author:   Bill Wear
:Created:  2022-01-13 15:15:54
:Modified: 2022-01-13 15:16:50
:END:
I’m fine with that; change made.  I forgot the advice a good boss gave me one time: “Leave the hero cape in the closet, at home.  Don’t bring it to work.”
****** [2022-09-08 Thu 22:46] Bill Wear
:PROPERTIES:
:CommId:   95478
:TYPE:     ejira-comment
:Author:   Bill Wear
:Created:  2022-09-08 22:46:31
:END:
MAAS team developer blogs
****** [2022-09-08 Thu 22:47] Bill Wear
:PROPERTIES:
:CommId:   95479
:TYPE:     ejira-comment
:Author:   Bill Wear
:Created:  2022-09-08 22:47:13
:END:
be prepared to blog on assigned subjects at assigned times
****** [2022-09-08 Thu 22:47] Bill Wear
:PROPERTIES:
:CommId:   95480
:TYPE:     ejira-comment
:Author:   Bill Wear
:Created:  2022-09-08 22:47:31
:END:
do off-the-cuff podcasts with MAAS PM
****** [2022-09-08 Thu 22:47] Bill Wear
:PROPERTIES:
:CommId:   95481
:TYPE:     ejira-comment
:Author:   Bill Wear
:Created:  2022-09-08 22:47:51
:END:
review PM whitepapers/blogs/tutorials and give feedback
*** TODO [#C] IMPAKT: Investigating Migration Planning and Assessing Kea Transition :MAAS_TEAM:
SCHEDULED: <2023-11-28 Tue +1d>
:PROPERTIES:
:ID:       https://warthogs.atlassian.net/browse/MAASENG-1944
:TYPE:     ejira-issue
:Status:   In Review
:Reporter: Bill Wear
:Assignee: Bill Wear
:Issuetype: Task
:Created:  2023-07-05 16:02:54
:Modified: 2023-07-18 14:30:10
:END:
***** Description
IMPAKT: Investigating Migration Planning and Assessing Kea Transition

This task is focused on evaluating the potential impact of migrating to Kea, a DHCP server – specifically on existing DHCP snippets and the users who rely on them. We have some survey data which gives us a strawperson, but we need to move forward a few paces.  This task involves a cursory analysis of the survey results, especially the current, most-common usage of DHCP snippets, and a rough estimate of how these problems can be solved in a Kea-based environment.  These results would be the precursors of an engineering specification.
***** Comments
****** [2023-07-05 Wed 17:24] Bill Wear
:PROPERTIES:
:CommId:   273199
:TYPE:     ejira-comment
:Author:   Bill Wear
:Created:  2023-07-05 17:24:18
:END:
******** Rough acceptance criteria

1. *Completion of Research*: All necessary information about Kea and its capabilities, as well as current DHCP snippets and their usage, has been thoroughly researched and understood.
2. *Survey Data Analysis*: The survey data has been fully analyzed, with key findings identified and documented.
3. *Problem Identification*: Potential issues or problems that might arise from migrating to Kea have been clearly identified and defined.
4. *Solution Estimates*: Each potential issue has a corresponding estimated solution within a Kea-based environment.
5. *Comparison Chart*: A comprehensive comparison chart or table has been created, outlining the current usage of DHCP snippets versus their proposed functionality in Kea.
6. *User Impact Evaluation*: The potential impact on users from migrating to Kea has been considered and evaluated.
7. *Preliminary Report Creation*: A draft of the preliminary report has been created, which includes all the information gathered and analyzed during the task.
8. *Report Review and Refinement*: The report has been reviewed and refined as needed to ensure accuracy, completeness, and clarity.
9. *Presentation of Findings*: The final report has been presented to the relevant stakeholders and the engineering team.
10. *Stakeholder Acceptance*: Key stakeholders have reviewed the findings and agree that they provide a thorough evaluation of the potential impact of migrating to Kea, paving the way for creating an engineering specification.
**** TODO [#B] MAAS should support Kea instead of Dhcpd - discover impact of moving to Kea (dhcp snippets et al) :MAAS_TEAM:
SCHEDULED: <2023-11-28 Tue +1d>
:PROPERTIES:
:ID:       https://warthogs.atlassian.net/browse/MAASENG-1646
:TYPE:     ejira-epic
:Status:   Untriaged
:Reporter: Cedric Gegout
:Assignee: Bill Wear
:Issuetype: Epic
:Created:  2023-05-10 08:16:05
:Modified: 2023-07-27 22:56:53
:Effort:   00:00
:Left:     00:00
:END:
****** Description
Dhcpd support is being dropped from Ubuntu in the future, and we will need to switch over to the replacement which is Kea.

We will need to add a deprecation notice for DHCP snippets for MAAS 3.4. We also need to create a community post that explains the transition to Kea and ask for their use cases for DHCP snippets so we can take them under consideration when preparing the transition to Kea. We could consider informing users how to set up their own dhcpd in a way that is compatible with MAAS and manage IP addresses that way.

Requires a spike/design before it can be implemented.
****** Comments
******* [2023-05-24 Wed 14:44] Adam Collard
:PROPERTIES:
:CommId:   245265
:TYPE:     ejira-comment
:Author:   Adam Collard
:Created:  2023-05-24 14:44:00
:END:
[~accountid:63b3c5e878aabbefa9d429f0]
*** TODO [#C] DOVALI: End-to-end documentation crowdsource automation :MAAS_TEAM:
SCHEDULED: <2023-11-28 Tue +1d>
:PROPERTIES:
:ID:       https://warthogs.atlassian.net/browse/MAASENG-1941
:TYPE:     ejira-issue
:Status:   Triaged
:Reporter: Bill Wear
:Assignee: Bill Wear
:Issuetype: Task
:Created:  2023-07-05 15:20:14
:Modified: 2023-10-04 14:32:35
:END:
***** Description
DOVALI: Documentation Validation and Linting automation tools

The existing Discourse-based documentation system presents difficulties in effectively managing offline and Vanilla versions, aligning filenames, titles, and URLs, and ensuring the accuracy of internal links, spelling, and grammar. The presence of a semi-random topic numbering system further complicates these processes. Streamlining these operations necessitates the implementation of an automated tool triggered by Git commits. Alternatively, enhancing the functionality of the current DiscEd tool by integrating these checks into the editing process or transforming it into an integral Git tool could provide significant improvements.
***** Comments
****** [2023-07-05 Wed 17:34] Bill Wear
:PROPERTIES:
:CommId:   273215
:TYPE:     ejira-comment
:Author:   Bill Wear
:Created:  2023-07-05 17:34:04
:END:
******** Rough acceptance criteria

1. *Analyze Existing Problems*: A comprehensive document outlining the challenges and issues with the current Discourse-based documentation system is produced.
2. *Identify Automation Opportunities*: A list or report of the aspects of the documentation system that can be automated is produced, with each item clearly justified.
3. *Evaluate DiscEd Tool*: A detailed evaluation report of the current capabilities of the DiscEd tool is produced, clearly outlining its strengths, weaknesses, and areas for potential enhancement.
4. *Define New Features*: A specifications document that clearly defines the new features or enhancements that should be added to the tool is produced and approved by relevant stakeholders.
5. *Design Tool Enhancements*: A comprehensive design plan (flowcharts, pseudocode, etc.) for implementing the new features or enhancements is produced and approved by the development team.
6. *Develop and Test*: All enhancements for the DiscEd tool or the new automated tool are successfully developed and pass unit testing.
7. *Integration with Git*: The tool successfully triggers with Git commits and performs all the desired checks, as confirmed by appropriate testing.
8. *System Testing*: All enhancements or features of the tool work smoothly together, performing all the desired checks, as confirmed by system testing.
9. *User Training*: User guides or tutorials explaining how to use the tool and interpret its output are produced, and users are able to demonstrate proficiency in using the tool (if applicable).
10. *Monitor and Adjust*: A monitoring system is in place to assess the tool's performance and gather user feedback. Any necessary adjustments or improvements to the tool have been identified and implemented, with an ongoing iteration process established for further improvements.
****** [2023-07-05 Wed 19:45] Bill Wear
:PROPERTIES:
:CommId:   273288
:TYPE:     ejira-comment
:Author:   Bill Wear
:Created:  2023-07-05 19:45:47
:Modified: 2023-07-05 22:43:46
:END:
******** Analyzing existing problems

/Analyze Existing Problems: Document the challenges and issues with the current Discourse-based documentation system. This could include problems with offline and Vanilla versions, aligning filenames, titles, URLs, ensuring internal link accuracy, and maintaining consistent spelling and grammar./

- ✅ Review documentation and content: Go through the existing documentation files, including Markdown files, and review the content in detail. Look for inconsistencies in spelling, grammar, formatting, and style. Identify areas where the content may be outdated, inaccurate, or hard to understand. Take note of any patterns or recurring issues you encounter.
    - There are issues in spelling, caught by hunspell (CLI) but missed by ispell.
    - There are diction, style, and grammer issues caught by diction, style, and write-good.
- ✅ Assess file naming and alignment: Evaluate the consistency and alignment of filenames, titles, and URLs across the documentation system. Look for any inconsistencies or discrepancies that may make it difficult for users to locate or reference specific documents. Identify patterns or problems related to file naming conventions and assess the impact on user experience.
    - The real problem is that *filename slug*, *HTML file title*, *discourse file title*, and *URL* should match exactly, including case.  Case /does/ matter for the Vanilla URLs.
    - Currently, the only way to ensure this is to manually align them.
    - There are pros and cons for which one should take precedence, and whether the filename and/or URL should be all lower case.  (If that’s the case, then most likely the Discourse file title should be the source of truth, and converted to lower-case as necessary for other uses.
- ✅ Examine internal linking: Verify the accuracy and functionality of internal links within the documentation system. Check if the links lead to the intended content and if any broken or outdated links exist. Analyze the structure and organization of internal links to ensure they provide a seamless navigation experience for users.
    - Led me to find markdown-link-check, which can accept regexes to ignore and can add prefixes to anchors to test them.
    - This didn’t produce a huge number of errors internal to the docset, but it showed that we can use automation to test markdown files for dead links before publishiing them.
    - Can be configured for testing redirects if we can get a list of all the redirects we have defined.
- ✅ Identify offline and Vanilla version issues: If the system has offline or Vanilla versions, examine the specific challenges and issues associated with them. Evaluate their compatibility and consistency with the Discourse version.
    - =kdiff3= does an excellent job of comparing the offline HTML versions with the live documentation versions, given formulation of both URLs correctly.
    - It also has a robust preprocessor that can strip out the known diffs before the offline and life HTML are compared, so very likely can be used as a gateway tool.
- Document the identified challenges and issues: Create a comprehensive document that captures all the challenges and issues you've identified. Organize the document in a structured manner, grouping related problems together. Include specific examples and supporting evidence to illustrate each issue. Clearly articulate the impact of each problem on user experience, efficiency, and overall effectiveness of the documentation system.
- Provide recommendations for improvement: Alongside documenting the problems, offer recommendations and potential solutions for each identified challenge. Propose specific actions that can address the issues, improve the system's functionality, and enhance the user experience. Consider industry best practices, user feedback, and your own expertise when formulating these recommendations.
- Communicate findings to stakeholders: Share your analysis document with relevant stakeholders, such as the documentation team, developers, and management. Clearly present the identified problems, their impact, and the recommended solutions. Engage in discussions and collaborate with stakeholders to prioritize and implement the necessary improvements.
****** [2023-07-05 Wed 22:43] Bill Wear
:PROPERTIES:
:CommId:   273339
:TYPE:     ejira-comment
:Author:   Bill Wear
:Created:  2023-07-05 22:43:12
:END:
********* Status as of EOD =2023-07-05=:

- Completed lexical analysis for [[https://warthogs.atlassian.net/browse/https://warthogs.atlassian.net/browse/MAASENG-1941|smart-link][https://warthogs.atlassian.net/browse/https://warthogs.atlassian.net/browse/MAASENG-1941]]
    - Discovered that hunspell, diction, style, and write-good all automatically uncover some issues in spelling, style, diction, and grammar – so we can use those as gateway tools, at the very least
    - Discovered and tested markdown-link-checker, which supports a config file of regexes both for “ignore” patterns and “extend URL” patterns (e.g., we can test every /t/title-slug/nnnn, as well as anchors, to make sure they work /before/ publishing a document – again, a gateway tool.
    - Discovered and tested kdiff3, which is capable of comparing an offline HTML file (e.g., offline docs) to a live HTML file (e.g., Vanilla) and has a robust pre-processor which can be used to strip off obvious differences, hopefully leaving only the parts which /should/ be identical, so it likely can also be used as a gateway tool.
    - In summary, I believe I have reliable, open-source gateway tools for spelling, diction, style, grammar, broken links, dead redirects, and Vanilla-to-offline-docs discrepancies.  This makes it very likely I can create a doc “compiler” that will screen out most issues from markdown and HTML without publishing broken doc.
****** [2023-08-10 Thu 14:08] Bill Wear
:PROPERTIES:
:CommId:   293437
:TYPE:     ejira-comment
:Author:   Bill Wear
:Created:  2023-08-10 14:08:53
:END:
in the process of  converting the logic to github actions, which may be a more useful way to do this.
****** [2023-08-18 Fri 16:07] Bill Wear
:PROPERTIES:
:CommId:   298430
:TYPE:     ejira-comment
:Author:   Bill Wear
:Created:  2023-08-18 16:07:02
:END:
currently pivoting to pre-commit for these validators.
*** TODO [#C] handle doc bug 1930001                              :MAAS_TEAM:           
SCHEDULED: <2023-11-28 Tue +1d>
:PROPERTIES:
:ID:       https://warthogs.atlassian.net/browse/MAASENG-1903
:TYPE:     ejira-issue
:Status:   BLOCKED
:Reporter: Bill Wear
:Assignee: Bill Wear
:Issuetype: Task
:Created:  2023-06-27 23:20:47
:Modified: 2023-11-28 20:01:13
:END:
***** Description
[[https://bugs.launchpad.net/maas/+bug/1930001|smart-link][https://bugs.launchpad.net/maas/+bug/1930001]]
***** Comments
*** TODO [#C] MAAS internal documentation                         :MAAS_TEAM:              
SCHEDULED: <2023-11-28 Tue +1d>
:PROPERTIES:
:ID:       https://warthogs.atlassian.net/browse/MAASENG-983
:TYPE:     ejira-issue
:Status:   Untriaged
:Reporter: Bill Wear
:Assignee: Bill Wear
:Issuetype: Task
:Created:  2022-09-08 19:16:15
:Modified: 2023-11-28 19:59:27
:END:
**** Description
**** Comments
***** [2022-09-08 Thu 20:32] Bill Wear
:PROPERTIES:
:CommId:   95310
:TYPE:     ejira-comment
:Author:   Bill Wear
:Created:  2022-09-08 20:32:15
:END:
adding images to [[http://image.io][image.io]]
***** [2022-09-08 Thu 20:32] Bill Wear
:PROPERTIES:
:CommId:   95311
:TYPE:     ejira-comment
:Author:   Bill Wear
:Created:  2022-09-08 20:32:24
:END:
How the lander works
***** [2022-09-08 Thu 20:32] Bill Wear
:PROPERTIES:
:CommId:   95312
:TYPE:     ejira-comment
:Author:   Bill Wear
:Created:  2022-09-08 20:32:37
:END:
How the CI works
***** [2022-09-08 Thu 20:33] Bill Wear
:PROPERTIES:
:CommId:   95313
:TYPE:     ejira-comment
:Author:   Bill Wear
:Created:  2022-09-08 20:33:21
:END:
adding bootloaders to [[http://image.io][image.io]]
*** TODO [#C] AUTOIMG: Automating OS image testing and reporting  :MAAS_TEAM:
SCHEDULED: <2023-11-28 Tue +1d>
:PROPERTIES:
:ID:       https://warthogs.atlassian.net/browse/MAASENG-1243
:TYPE:     ejira-issue
:Status:   In Review
:Reporter: Bill Wear
:Assignee: Bill Wear
:Issuetype: Task
:Created:  2023-01-14 16:13:08
:Modified: 2023-10-02 15:15:32
:END:
**** Description
**** Comments
***** [2023-01-14 Sat 16:15] Bill Wear
:PROPERTIES:
:CommId:   129526
:TYPE:     ejira-comment
:Author:   Bill Wear
:Created:  2023-01-14 16:15:16
:END:
Friday, 13 Jan - discussed with [[http://README.in][~accountid:6090064f70d1d1006f5a8dbd] & brainstormed ideas, mainly around a tool that takes a manual [README.in]] (with info that can’t be gleaned electronically) and fills it out with what’s in the .hcl file to make a complete descriptive document, per image.  Need to vet this with the team and confirm that this is in-line with the goals of this task.
** TODO managing ta_cohort Jira cards                             :ta_cohort:
SCHEDULED: <2023-11-30 Thu +1d>
:LOGBOOK:
CLOCK: [2023-11-30 Thu 13:05]--[2023-11-30 Thu 13:30] =>  0:25
:END:
** TODO ops manuals --> more holistic how-to docs                 :ta_cohort:
SCHEDULED: <2023-11-30 Thu +1d>
:LOGBOOK:
CLOCK: [2023-11-30 Thu 11:15]--[2023-11-30 Thu 12:05] =>  0:50
:END:
** TODO [#C] follow up with evilnick: wth did we talk about, again? :ta_cohort:
SCHEDULED: <2023-11-28 Tue +1d>
:PROPERTIES:
:ID:       https://warthogs.atlassian.net/browse/MAASENG-2460
:TYPE:     ejira-issue
:Status:   Untriaged
:Reporter: Bill Wear
:Assignee: Bill Wear
:Issuetype: Task
:Created:  2023-11-28 19:47:45
:Modified: 2023-11-28 19:47:45
:END:
*** Description
*** Comments
** TODO [#C] Writing practice                                     :ta_cohort:                               
SCHEDULED: <2023-11-28 Tue +1d>
:PROPERTIES:
:ID:       https://warthogs.atlassian.net/browse/MAASENG-1947
:TYPE:     ejira-issue
:Status:   Triaged
:Reporter: Bill Wear
:Assignee: Bill Wear
:Issuetype: Task
:Created:  2023-07-05 20:25:00
:Modified: 2023-11-28 20:02:08
:END:
**** Description
**** Comments
*** TODO [#C] o'reilly writing course, next level :ta_cohort:             
SCHEDULED: <2023-11-28 Tue +1d>
:PROPERTIES:
:ID:       https://warthogs.atlassian.net/browse/MAASENG-2457
:TYPE:     ejira-issue
:Status:   Untriaged
:Reporter: Bill Wear
:Assignee: Bill Wear
:Issuetype: Task
:Created:  2023-11-28 19:46:59
:Modified: 2023-11-28 19:47:00
:END:
**** Description
**** Comments
*** TODO [#C] tech writing courses (clarity, conciseness, accuracy) :ta_cohort: 
SCHEDULED: <2023-11-28 Tue +1d>
:PROPERTIES:
:ID:       https://warthogs.atlassian.net/browse/MAASENG-2462
:TYPE:     ejira-issue
:Status:   Untriaged
:Reporter: Bill Wear
:Assignee: Bill Wear
:Issuetype: Task
:Created:  2023-11-28 19:48:17
:Modified: 2023-11-28 19:48:18
:END:
**** Description
**** Comments
*** TODO [#C] the elements of style  :ta_cohort:                          
SCHEDULED: <2023-11-28 Tue +1d>
:PROPERTIES:
:ID:       https://warthogs.atlassian.net/browse/MAASENG-2464
:TYPE:     ejira-issue
:Status:   Untriaged
:Reporter: Bill Wear
:Assignee: Bill Wear
:Issuetype: Task
:Created:  2023-11-28 19:48:47
:Modified: 2023-11-28 19:48:48
:END:
**** Description
**** Comments
** TODO [#C] MAAS outside the lines                               :ta_cohort:                         
SCHEDULED: <2023-11-28 Tue +1d>
:PROPERTIES:
:ID:       https://warthogs.atlassian.net/browse/MAASENG-2439
:TYPE:     ejira-issue
:Status:   In Progress
:Reporter: Bill Wear
:Assignee: Bill Wear
:Issuetype: Task
:Created:  2023-11-27 23:19:12
:Modified: 2023-11-28 19:55:27
:END:
*** Description
Deploy anything and everything I possibly can with MAAS.
*** Comments
**** [2023-11-27 Mon 23:24] Bill Wear
:PROPERTIES:
:CommId:   347891
:TYPE:     ejira-comment
:Author:   Bill Wear
:Created:  2023-11-27 23:24:15
:END:
spent a while trying to boot a minis forum nuc, some hardware issues with proper pxe booting.
** TODO [#C] define TA project for 24.04 cycle                    :ta_cohort:              
SCHEDULED: <2023-11-28 Tue +1d>
:PROPERTIES:
:ID:       https://warthogs.atlassian.net/browse/MAASENG-2290
:TYPE:     ejira-issue
:Status:   Triaged
:Reporter: Bill Wear
:Assignee: Bill Wear
:Issuetype: Task
:Created:  2023-10-17 14:34:45
:Modified: 2023-10-23 22:41:13
:END:
*** Description
*** Comments
**** [2023-10-17 Tue 14:36] Bill Wear
:PROPERTIES:
:CommId:   326731
:TYPE:     ejira-comment
:Author:   Bill Wear
:Created:  2023-10-17 14:36:07
:END:
supposed to have this by the sprint.
